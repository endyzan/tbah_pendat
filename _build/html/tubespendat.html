
<!DOCTYPE html>


<html lang="en" data-content_root="./" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Pendahuluan &#8212; Tbah Pendat</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
<link href="_static/styles/bootstrap.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
<link href="_static/styles/pydata-sphinx-theme.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />

  
  <link href="_static/vendor/fontawesome/6.5.1/css/all.min.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.1/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.1/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.1/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=b76e3c8a" />
    <link rel="stylesheet" type="text/css" href="_static/styles/sphinx-book-theme.css?v=384b581d" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css?v=be8a1c11" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="_static/design-style.1e8bd061cd6da7fc9cf755528e8ffc24.min.css?v=0a3b3ea7" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=8d27b9dea8ad943066ae" />
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=8d27b9dea8ad943066ae" />
  <script src="_static/vendor/fontawesome/6.5.1/js/all.min.js?digest=8d27b9dea8ad943066ae"></script>

    <script src="_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="_static/doctools.js?v=888ff710"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="_static/copybutton.js?v=f281be69"></script>
    <script src="_static/scripts/sphinx-book-theme.js?v=efea14e4"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="_static/togglebutton.js?v=4a39c7ea"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="_static/design-tabs.js?v=36754332"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="_static/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'tubespendat';</script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="Notebooks with MyST Markdown" href="markdown-notebooks.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a id="pst-skip-link" class="skip-link" href="#main-content">Skip to main content</a>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>
    Back to top
  </button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <header class="bd-header navbar navbar-expand-lg bd-navbar">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  

<a class="navbar-brand logo" href="intro.html">
  
  
  
  
  
    
    
      
    
    
    <img src="_static/logo.png" class="logo__image only-light" alt="Tbah Pendat - Home"/>
    <script>document.write(`<img src="_static/logo.png" class="logo__image only-dark" alt="Tbah Pendat - Home"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn navbar-btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="intro.html">
                    Welcome to your Jupyter Book
                </a>
            </li>
        </ul>
        <ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="tubespendat.html">projek UAS</a></li>

</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><label class="sidebar-toggle primary-toggle btn btn-sm" for="__primary" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</label></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/endyzan/tbah_pendat" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/endyzan/tbah_pendat/issues/new?title=Issue%20on%20page%20%2Ftubespendat.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="_sources/tubespendat.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm navbar-btn theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch nav-link" data-mode="light"><i class="fa-solid fa-sun fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="dark"><i class="fa-solid fa-moon fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="auto"><i class="fa-solid fa-circle-half-stroke fa-lg"></i></span>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<label class="sidebar-toggle secondary-toggle btn btn-sm" for="__secondary"title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</label>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Pendahuluan</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#">Pendahuluan</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#data-understanding">Data Understanding</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#sumber-data">Sumber Data</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#integrasi-data">Integrasi Data</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#eskplorasi-data">Eskplorasi Data</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#struktur-dataset">Struktur Dataset</a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#identifikasi-kualitas-data">Identifikasi Kualitas Data</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pendeteksian-missing-values">Pendeteksian Missing Values</a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#prepocessing-data">Prepocessing Data</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#transformasi-data">Transformasi Data</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#imputasi">Imputasi</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#imputasi-missing-values-mean">Imputasi Missing Values Mean</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#imputasi-missing-values-knn">Imputasi Missing Values KNN</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#pendeteksian-outlier">Pendeteksian Outlier</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#modelling-gaussian-naive-bayes">Modelling Gaussian Naive Bayes</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#peningkatan-model">Peningkatan Model</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#stacking-classifier-meta-classifier">Stacking Classifier (Meta Classifier)</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#cara-kerja-stacking">Cara kerja stacking</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#bagging-bootstrap-aggregating">Bagging (Bootstrap Aggregating)</a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#evaluasi">Evaluasi</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#deployment">Deployment</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#menyiapkan-model">Menyiapkan Model</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#integrasi-model-dengan-web">Integrasi model dengan web</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#hasil-web">Hasil web</a></li>
</ul>
</li>
</ul>

            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <blockquote>
<div><p>Prediksi Peluang Hidup Penderita Hepatitis Menggunakan Metode-Metode Klasifikasi</p>
</div></blockquote>
<section class="tex2jax_ignore mathjax_ignore" id="pendahuluan">
<h1>Pendahuluan<a class="headerlink" href="#pendahuluan" title="Link to this heading">#</a></h1>
<p>Hepatitis adalah salah satu jenis penyakit endemis di beberapa negara berkembang, termasuk Indonesia. Penyakit ini
disebabkan oleh infeksi jamur, bakteri, virus, obat-obatan, konsumsi alkohol, lemak berlebihan, atau penyakit autoimmune. Ada 5
jenis hepatitis mulai dari ringan sampai dengan kronik, yaitu A, B, C, D, E. Data riset kesehatan dasar (Riskesdas) 2013
menunjukkan bahwa setiap 100 orang di Indonesia terdapat 10 penduduk yang terinfeksi virus hepatitis C atau B. Sehingga
diperkirakan terdapat 28 juta penduduk yang terinfeksi, 14 juta orang diantaranya berpotensi menjadi hepatitis kronik, dan 1,4 juta
dari yang kronik tersebut berpotensi terkena kanker hati. Pada tahun 2013, Indonesia termasuk negara endemis hepatitis B pada
urutan kedua tertinggi di Asia Tenggara. Serangakaian tes untuk diagnosis hepatitis biasanya dilakukan setelah ada indikasi atau
gejala yang dirasakan pasien atau ditemukan tidak sengaja pada pemeriksaan lainnya. Hepatitis kronik seperti hepatitis B, C, atau
D dapat berubah menjadi akut dan menimbulkan sirosis bahkan kanker hati. Saat pasien sudah dinyatakan mengidap hepatitis kronik
maka berpotensi menjadi hepatitis akut bahkan berisiko kematian. Dokter tidak dapat menentukan harapan hidup penderita pasien
hepatitis kronik atau akut.</p>
<p>Penerapan metode data mining klasifikasi untuk memprediksi harapan hidup penderita hepatitis
. Fokus saya adalah membandingkan beberapa metode klasifikasi dan akurasinya dalam memprediksi harapan hidup
pasien hepatitis.</p>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="data-understanding">
<h1>Data Understanding<a class="headerlink" href="#data-understanding" title="Link to this heading">#</a></h1>
<section id="sumber-data">
<h2>Sumber Data<a class="headerlink" href="#sumber-data" title="Link to this heading">#</a></h2>
<p>Saya mendapatkan dataset hepatitis ini dari web <a class="reference external" href="http://uci.edu">uci.edu</a> dan tersedia link dataset <a class="reference external" href="https://archive.ics.uci.edu/dataset/46/hepatitis">https://archive.ics.uci.edu/dataset/46/hepatitis</a></p>
<p>dataset hepatitis ini didapat dari:</p>
<p>G.Gong  (Carnegie-Mellon University) via
Bojan Cestnik
Jozef Stefan Institute
Jamova 39
61000 Ljubljana
Yugoslavia (tel.: (38)(+61) 214-399 ext.287) }</p>
<p>dibuat pada November 1988.</p>
<p>penggunaan sebelumnya:</p>
<ol class="arabic simple">
<li><p>Diaconis,P. &amp; Efron,B. (1983).  Computer-Intensive Methods in
Statistics.  Scientific American, Volume 248.
– Gail Gong reported a 80% classfication accuracy</p></li>
<li><p>Cestnik,G., Konenenko,I, &amp; Bratko,I. (1987). Assistant-86: A
Knowledge-Elicitation Tool for Sophisticated Users.  In I.Bratko
&amp; N.Lavrac (Eds.) Progress in Machine Learning, 31-45, Sigma Press.
– Assistant-86: 83% accuracy</p></li>
</ol>
</section>
<section id="integrasi-data">
<h2>Integrasi Data<a class="headerlink" href="#integrasi-data" title="Link to this heading">#</a></h2>
<p>Pengambilan data agar dapat diolah kami perlu untuk menginstall package yang telah disediakan oleh UCI Dataset. Instalasi dilakukan berguna untuk menarik data yang berasal dari UCI dataset agar dapat diolah.</p>
<p>peritah untuk mengambil data dari UCI dataset dapat di lihat ketika kita menekan tombol import in python pada datase yang kita inginkan dan kita perlu mengikuti perintah tersebut agar data dapat diambil dari UCI dataset.</p>
<p>contoh pengambilan data dari UCI dataset dapat dilihat pada gambar dan perintah berkut</p>
<img src="image-20240626-144423.png" width="" align="" /><div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#untuk install package ucimlrepo</span>
<span class="o">!</span>pip<span class="w"> </span>install<span class="w"> </span>ucimlrepo
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Requirement already satisfied: ucimlrepo in c:\users\endyzan\appdata\local\programs\python\python311\lib\site-packages (0.0.6)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">ucimlrepo</span> <span class="kn">import</span> <span class="n">fetch_ucirepo</span> 
  
<span class="c1"># fetch dataset </span>
<span class="n">hepatitis</span> <span class="o">=</span> <span class="n">fetch_ucirepo</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="mi">46</span><span class="p">)</span> 
<span class="n">data</span> <span class="o">=</span> <span class="n">hepatitis</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">original</span> <span class="c1">#inisialisasikan sebagai &#39;data&#39;</span>
<span class="n">data</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="s1">&#39;hepatitis.csv&#39;</span><span class="p">,</span> <span class="n">index</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span> <span class="c1">#menyimpan hasil ke dalam .csv</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="eskplorasi-data">
<h2>Eskplorasi Data<a class="headerlink" href="#eskplorasi-data" title="Link to this heading">#</a></h2>
<p>Visualisasi Data</p>
<p>Agar mempermudah memahami dataset perlu di tampilkan dengan visualisai, gunakan perintah seperti dibawah ini:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">display</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Class</th>
      <th>Age</th>
      <th>Sex</th>
      <th>Steroid</th>
      <th>Antivirals</th>
      <th>Fatigue</th>
      <th>Malaise</th>
      <th>Anorexia</th>
      <th>Liver Big</th>
      <th>Liver Firm</th>
      <th>Spleen Palpable</th>
      <th>Spiders</th>
      <th>Ascites</th>
      <th>Varices</th>
      <th>Bilirubin</th>
      <th>Alk Phosphate</th>
      <th>Sgot</th>
      <th>Albumin</th>
      <th>Protime</th>
      <th>Histology</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>2</td>
      <td>30</td>
      <td>2</td>
      <td>1.0</td>
      <td>2</td>
      <td>2.0</td>
      <td>2.0</td>
      <td>2.0</td>
      <td>1.0</td>
      <td>2.0</td>
      <td>2.0</td>
      <td>2.0</td>
      <td>2.0</td>
      <td>2.0</td>
      <td>1.0</td>
      <td>85.0</td>
      <td>18.0</td>
      <td>4.0</td>
      <td>NaN</td>
      <td>1</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2</td>
      <td>50</td>
      <td>1</td>
      <td>1.0</td>
      <td>2</td>
      <td>1.0</td>
      <td>2.0</td>
      <td>2.0</td>
      <td>1.0</td>
      <td>2.0</td>
      <td>2.0</td>
      <td>2.0</td>
      <td>2.0</td>
      <td>2.0</td>
      <td>0.9</td>
      <td>135.0</td>
      <td>42.0</td>
      <td>3.5</td>
      <td>NaN</td>
      <td>1</td>
    </tr>
    <tr>
      <th>2</th>
      <td>2</td>
      <td>78</td>
      <td>1</td>
      <td>2.0</td>
      <td>2</td>
      <td>1.0</td>
      <td>2.0</td>
      <td>2.0</td>
      <td>2.0</td>
      <td>2.0</td>
      <td>2.0</td>
      <td>2.0</td>
      <td>2.0</td>
      <td>2.0</td>
      <td>0.7</td>
      <td>96.0</td>
      <td>32.0</td>
      <td>4.0</td>
      <td>NaN</td>
      <td>1</td>
    </tr>
    <tr>
      <th>3</th>
      <td>2</td>
      <td>31</td>
      <td>1</td>
      <td>NaN</td>
      <td>1</td>
      <td>2.0</td>
      <td>2.0</td>
      <td>2.0</td>
      <td>2.0</td>
      <td>2.0</td>
      <td>2.0</td>
      <td>2.0</td>
      <td>2.0</td>
      <td>2.0</td>
      <td>0.7</td>
      <td>46.0</td>
      <td>52.0</td>
      <td>4.0</td>
      <td>80.0</td>
      <td>1</td>
    </tr>
    <tr>
      <th>4</th>
      <td>2</td>
      <td>34</td>
      <td>1</td>
      <td>2.0</td>
      <td>2</td>
      <td>2.0</td>
      <td>2.0</td>
      <td>2.0</td>
      <td>2.0</td>
      <td>2.0</td>
      <td>2.0</td>
      <td>2.0</td>
      <td>2.0</td>
      <td>2.0</td>
      <td>1.0</td>
      <td>NaN</td>
      <td>200.0</td>
      <td>4.0</td>
      <td>NaN</td>
      <td>1</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>150</th>
      <td>1</td>
      <td>46</td>
      <td>1</td>
      <td>2.0</td>
      <td>2</td>
      <td>1.0</td>
      <td>1.0</td>
      <td>1.0</td>
      <td>2.0</td>
      <td>2.0</td>
      <td>2.0</td>
      <td>1.0</td>
      <td>1.0</td>
      <td>1.0</td>
      <td>7.6</td>
      <td>NaN</td>
      <td>242.0</td>
      <td>3.3</td>
      <td>50.0</td>
      <td>2</td>
    </tr>
    <tr>
      <th>151</th>
      <td>2</td>
      <td>44</td>
      <td>1</td>
      <td>2.0</td>
      <td>2</td>
      <td>1.0</td>
      <td>2.0</td>
      <td>2.0</td>
      <td>2.0</td>
      <td>1.0</td>
      <td>2.0</td>
      <td>2.0</td>
      <td>2.0</td>
      <td>2.0</td>
      <td>0.9</td>
      <td>126.0</td>
      <td>142.0</td>
      <td>4.3</td>
      <td>NaN</td>
      <td>2</td>
    </tr>
    <tr>
      <th>152</th>
      <td>2</td>
      <td>61</td>
      <td>1</td>
      <td>1.0</td>
      <td>2</td>
      <td>1.0</td>
      <td>1.0</td>
      <td>2.0</td>
      <td>1.0</td>
      <td>1.0</td>
      <td>2.0</td>
      <td>1.0</td>
      <td>2.0</td>
      <td>2.0</td>
      <td>0.8</td>
      <td>75.0</td>
      <td>20.0</td>
      <td>4.1</td>
      <td>NaN</td>
      <td>2</td>
    </tr>
    <tr>
      <th>153</th>
      <td>2</td>
      <td>53</td>
      <td>2</td>
      <td>1.0</td>
      <td>2</td>
      <td>1.0</td>
      <td>2.0</td>
      <td>2.0</td>
      <td>2.0</td>
      <td>2.0</td>
      <td>1.0</td>
      <td>1.0</td>
      <td>2.0</td>
      <td>1.0</td>
      <td>1.5</td>
      <td>81.0</td>
      <td>19.0</td>
      <td>4.1</td>
      <td>48.0</td>
      <td>2</td>
    </tr>
    <tr>
      <th>154</th>
      <td>1</td>
      <td>43</td>
      <td>1</td>
      <td>2.0</td>
      <td>2</td>
      <td>1.0</td>
      <td>2.0</td>
      <td>2.0</td>
      <td>2.0</td>
      <td>2.0</td>
      <td>1.0</td>
      <td>1.0</td>
      <td>1.0</td>
      <td>2.0</td>
      <td>1.2</td>
      <td>100.0</td>
      <td>19.0</td>
      <td>3.1</td>
      <td>42.0</td>
      <td>2</td>
    </tr>
  </tbody>
</table>
<p>155 rows × 20 columns</p>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="nn">sns</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>
<span class="n">sns</span><span class="o">.</span><span class="n">countplot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s1">&#39;Class&#39;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">,</span> <span class="n">palette</span><span class="o">=</span><span class="s1">&#39;viridis&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Jumlah Sampel per Kelas&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Kelas&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Jumlah Sampel&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/2f9bc5a04d9ed3654a7c2f4f3904a818c829427b3b5c4ea68b2483d20e8e3465.png" src="_images/2f9bc5a04d9ed3654a7c2f4f3904a818c829427b3b5c4ea68b2483d20e8e3465.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span> <span class="mi">12</span><span class="p">))</span>
<span class="n">data</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">bins</span><span class="o">=</span><span class="mi">30</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">15</span><span class="p">),</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">suptitle</span><span class="p">(</span><span class="s1">&#39;Distribusi Fitur&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;Figure size 1500x1200 with 0 Axes&gt;
</pre></div>
</div>
<img alt="_images/7b622f3b2fbda971dfa5d9c7b2572a21f46c82b389d0daa11d9a6d5dcb5fec35.png" src="_images/7b622f3b2fbda971dfa5d9c7b2572a21f46c82b389d0daa11d9a6d5dcb5fec35.png" />
</div>
</div>
</section>
<section id="struktur-dataset">
<h2>Struktur Dataset<a class="headerlink" href="#struktur-dataset" title="Link to this heading">#</a></h2>
<p>Deskripsi Dataset</p>
<p>Dataset hepatitis ini merupakan kumpulan data yang digunakan untuk mengklasifikasikan pasien hepatitis sebagai hidup (live) atau meninggal (die). Data ini dikumpulkan dari pasien yang mengalami hepatitis dan berisi informasi medis terkait kondisi mereka.</p>
<p>Jumlah Observasi dan Fitur</p>
<ul class="simple">
<li><p>Jumlah Observasi: 155</p></li>
</ul>
<ul class="simple">
<li><p>Jumlah Fitur: 19</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">data</span><span class="o">.</span><span class="n">shape</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(155, 20)
</pre></div>
</div>
</div>
</div>
<p>Nama dan Deskripsi Fitur</p>
<p>fitur merupakan ciri-ciri yang digunakan untuk menentukan klasifikasi suatu data,pada dataset ini fitur yang ada akan berhubungan dan digunakan untuk indentifikasi.</p>
<p>dataset hepatitis memiliki 19 fitur:</p>
<ul class="simple">
<li><p>Age - Usia pasien.</p></li>
</ul>
<ul class="simple">
<li><p>Sex - Jenis kelamin pasien.</p></li>
</ul>
<ul class="simple">
<li><p>Steroid - Penggunaan steroid (ya/tidak).</p></li>
</ul>
<ul class="simple">
<li><p>Antivirals - Penggunaan antivirus (ya/tidak).</p></li>
</ul>
<ul class="simple">
<li><p>Fatigue - Kelelahan (ya/tidak).</p></li>
</ul>
<ul class="simple">
<li><p>Malaise - Ketidaknyamanan (ya/tidak).</p></li>
</ul>
<ul class="simple">
<li><p>Anorexia	- Anoreksia (ya/tidak).</p></li>
</ul>
<ul class="simple">
<li><p>Liver Big	- Pembesaran hati (ya/tidak).</p></li>
</ul>
<ul class="simple">
<li><p>Liver Firm - Kekakuan hati (ya/tidak).</p></li>
</ul>
<ul class="simple">
<li><p>Spleen Palpable - Limpa teraba (ya/tidak).</p></li>
</ul>
<ul class="simple">
<li><p>Spiders - Pembuluh darah laba-laba (ya/tidak).</p></li>
</ul>
<ul class="simple">
<li><p>Ascites - Asites (ya/tidak).</p></li>
</ul>
<ul class="simple">
<li><p>Varices - Varises (ya/tidak).</p></li>
</ul>
<ul class="simple">
<li><p>Bilirubin - Kadar bilirubin.</p></li>
</ul>
<ul class="simple">
<li><p>Alk Phosphate	- Kadar fosfatase alkali.</p></li>
</ul>
<ul class="simple">
<li><p>Sgot - Serum glutamat-oksaloasetat transaminase.</p></li>
</ul>
<ul class="simple">
<li><p>Albumin - Kadar albumin.</p></li>
</ul>
<ul class="simple">
<li><p>Protime - Waktu protrombin.</p></li>
</ul>
<ul class="simple">
<li><p>Histology - Hasil histologi (ya/tidak).</p></li>
</ul>
<p>label pada dataset memiliki 2 type:</p>
<ul class="simple">
<li><p>1: live (hidup)</p></li>
</ul>
<ul class="simple">
<li><p>2: die (mati)</p></li>
</ul>
<p>Tipe Data dari Setiap Fitur</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">data</span><span class="o">.</span><span class="n">columns</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Index([&#39;Class&#39;, &#39;Age&#39;, &#39;Sex&#39;, &#39;Steroid&#39;, &#39;Antivirals&#39;, &#39;Fatigue&#39;, &#39;Malaise&#39;,
       &#39;Anorexia&#39;, &#39;Liver Big&#39;, &#39;Liver Firm&#39;, &#39;Spleen Palpable&#39;, &#39;Spiders&#39;,
       &#39;Ascites&#39;, &#39;Varices&#39;, &#39;Bilirubin&#39;, &#39;Alk Phosphate&#39;, &#39;Sgot&#39;, &#39;Albumin&#39;,
       &#39;Protime&#39;, &#39;Histology&#39;],
      dtype=&#39;object&#39;)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">data</span><span class="o">.</span><span class="n">dtypes</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Class                int64
Age                  int64
Sex                  int64
Steroid            float64
Antivirals           int64
Fatigue            float64
Malaise            float64
Anorexia           float64
Liver Big          float64
Liver Firm         float64
Spleen Palpable    float64
Spiders            float64
Ascites            float64
Varices            float64
Bilirubin          float64
Alk Phosphate      float64
Sgot               float64
Albumin            float64
Protime            float64
Histology            int64
dtype: object
</pre></div>
</div>
</div>
</div>
<p>Statistik Deskriptif:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span> <span class="mi">1</span><span class="p">:</span><span class="mi">20</span><span class="p">]</span><span class="o">.</span><span class="n">describe</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>              Age         Sex     Steroid  Antivirals     Fatigue     Malaise  \
count  155.000000  155.000000  154.000000  155.000000  154.000000  154.000000   
mean    41.200000    1.103226    1.506494    1.845161    1.350649    1.603896   
std     12.565878    0.305240    0.501589    0.362923    0.478730    0.490682   
min      7.000000    1.000000    1.000000    1.000000    1.000000    1.000000   
25%     32.000000    1.000000    1.000000    2.000000    1.000000    1.000000   
50%     39.000000    1.000000    2.000000    2.000000    1.000000    2.000000   
75%     50.000000    1.000000    2.000000    2.000000    2.000000    2.000000   
max     78.000000    2.000000    2.000000    2.000000    2.000000    2.000000   

         Anorexia   Liver Big  Liver Firm  Spleen Palpable     Spiders  \
count  154.000000  145.000000  144.000000        150.00000  150.000000   
mean     1.792208    1.827586    1.583333          1.80000    1.660000   
std      0.407051    0.379049    0.494727          0.40134    0.475296   
min      1.000000    1.000000    1.000000          1.00000    1.000000   
25%      2.000000    2.000000    1.000000          2.00000    1.000000   
50%      2.000000    2.000000    2.000000          2.00000    2.000000   
75%      2.000000    2.000000    2.000000          2.00000    2.000000   
max      2.000000    2.000000    2.000000          2.00000    2.000000   

          Ascites    Varices   Bilirubin  Alk Phosphate       Sgot  \
count  150.000000  150.00000  149.000000     126.000000  151.00000   
mean     1.866667    1.88000    1.427517     105.325397   85.89404   
std      0.341073    0.32605    1.212149      51.508109   89.65089   
min      1.000000    1.00000    0.300000      26.000000   14.00000   
25%      2.000000    2.00000    0.700000      74.250000   31.50000   
50%      2.000000    2.00000    1.000000      85.000000   58.00000   
75%      2.000000    2.00000    1.500000     132.250000  100.50000   
max      2.000000    2.00000    8.000000     295.000000  648.00000   

          Albumin     Protime   Histology  
count  139.000000   88.000000  155.000000  
mean     3.817266   61.852273    1.451613  
std      0.651523   22.875244    0.499266  
min      2.100000    0.000000    1.000000  
25%      3.400000   46.000000    1.000000  
50%      4.000000   61.000000    1.000000  
75%      4.200000   76.250000    2.000000  
max      6.400000  100.000000    2.000000  
</pre></div>
</div>
</div>
</div>
<p>Penjelasan:</p>
<ul class="simple">
<li><p>Count (Jumlah) : Jumlah entri non-null dalam setiap kolom.</p></li>
</ul>
<ul class="simple">
<li><p>Mean (Rata-rata) : Rata-rata dari setiap kolom.</p></li>
</ul>
<ul class="simple">
<li><p>Std (Standar Deviasi) : Standar deviasi dari setiap kolom, mengukur seberapa tersebar data di sekitar rata-rata.</p></li>
</ul>
<ul class="simple">
<li><p>Min (Minimum) : Nilai minimum dalam setiap kolom.</p></li>
</ul>
<ul class="simple">
<li><p>25% (Kuartil Pertama) : Nilai kuartil pertama (25th percentile) dari setiap kolom, menandakan nilai di bawahnya 25% dari data.</p></li>
</ul>
<ul class="simple">
<li><p>50% (Median) : Nilai median (50th percentile) dari setiap kolom, membagi data menjadi dua bagian yang sama.</p></li>
</ul>
<ul class="simple">
<li><p>75% (Kuartil Ketiga) : Nilai kuartil ketiga (75th percentile) dari setiap kolom, menandakan nilai di bawahnya 75% dari data.</p></li>
</ul>
<ul class="simple">
<li><p>Max (Maksimum) : Nilai maksimum dalam setiap kolom.</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">data</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;Class&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">size</span><span class="p">()</span> <span class="c1">#untuk mengetahui jumlah masing-masing class</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Class
1     32
2    123
dtype: int64
</pre></div>
</div>
</div>
</div>
<p>Pada dataset ini terdapat 32 data dengan class live dan 123 data dengan class die.</p>
</section>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="identifikasi-kualitas-data">
<h1>Identifikasi Kualitas Data<a class="headerlink" href="#identifikasi-kualitas-data" title="Link to this heading">#</a></h1>
<section id="pendeteksian-missing-values">
<h2>Pendeteksian Missing Values<a class="headerlink" href="#pendeteksian-missing-values" title="Link to this heading">#</a></h2>
<p>Missing value merupakan data yang hilang pada suatu dataset. Hal ini bisa terjadi oleh beberapa faktor, diantaranya adalah :</p>
<ul class="simple">
<li><p>Interviewer recording error terjadi akibat kelalaian petugas pengumpul data (pewawancara), misalnya ada sejumlah pertanyaan yang terlewatkan</p></li>
</ul>
<ul class="simple">
<li><p>Respondent inability error terjadi akibat ketidakmampuan responden dalam memberikan jawaban akurat, misalnya karena tidak memahami pertanyaan, bosan atau kelelahan (respondent fatigue) akhirnya responden mengosongkan sejumlah pertanyaan atau berhenti mengisi kuesioner di tengah jalan.</p></li>
</ul>
<ul class="simple">
<li><p>Unwillingness respondent error terjadi karena responden tidak berkenan memberikan jawaban yang akurat, misalnya pertanyaan soal penghasilan, usia, berat badan, pengalaman melakukan pelanggaran hukum, dll.</p></li>
</ul>
<p>Cara penanganan Missing Values :</p>
<ul class="simple">
<li><p>Mengabaikan dan membuang missing data</p></li>
</ul>
<ul class="simple">
<li><p>Estimasi parameter</p></li>
</ul>
<ul class="simple">
<li><p>Imputasi</p></li>
</ul>
<p>Dalam modul kali ini kami akan menangani missing values menggunakan metode imputasi, yang ada 2 metode yaitu menggunakan metode Mean dan menggunakan metode KNN.</p>
<p>Kami lakukan pendeteksian missing values terlebih dahulu pada masing-masing kolom.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="n">barisMissing</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="n">data</span><span class="o">.</span><span class="n">isnull</span><span class="p">()</span><span class="o">.</span><span class="n">any</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)]</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;baris Missing Values:&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">barisMissing</span><span class="p">)</span>
<span class="n">missingValues</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">isnull</span><span class="p">()</span>
<span class="n">totalMissing</span> <span class="o">=</span> <span class="n">missingValues</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Jumlah Missing Values:&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">totalMissing</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>baris Missing Values:
     Class  Age  Sex  Steroid  Antivirals  Fatigue  Malaise  Anorexia  \
0        2   30    2      1.0           2      2.0      2.0       2.0   
1        2   50    1      1.0           2      1.0      2.0       2.0   
2        2   78    1      2.0           2      1.0      2.0       2.0   
3        2   31    1      NaN           1      2.0      2.0       2.0   
4        2   34    1      2.0           2      2.0      2.0       2.0   
..     ...  ...  ...      ...         ...      ...      ...       ...   
148      2   20    1      1.0           2      2.0      2.0       2.0   
149      2   36    1      2.0           2      2.0      2.0       2.0   
150      1   46    1      2.0           2      1.0      1.0       1.0   
151      2   44    1      2.0           2      1.0      2.0       2.0   
152      2   61    1      1.0           2      1.0      1.0       2.0   

     Liver Big  Liver Firm  Spleen Palpable  Spiders  Ascites  Varices  \
0          1.0         2.0              2.0      2.0      2.0      2.0   
1          1.0         2.0              2.0      2.0      2.0      2.0   
2          2.0         2.0              2.0      2.0      2.0      2.0   
3          2.0         2.0              2.0      2.0      2.0      2.0   
4          2.0         2.0              2.0      2.0      2.0      2.0   
..         ...         ...              ...      ...      ...      ...   
148        2.0         NaN              2.0      2.0      2.0      2.0   
149        2.0         2.0              2.0      2.0      2.0      2.0   
150        2.0         2.0              2.0      1.0      1.0      1.0   
151        2.0         1.0              2.0      2.0      2.0      2.0   
152        1.0         1.0              2.0      1.0      2.0      2.0   

     Bilirubin  Alk Phosphate   Sgot  Albumin  Protime  Histology  
0          1.0           85.0   18.0      4.0      NaN          1  
1          0.9          135.0   42.0      3.5      NaN          1  
2          0.7           96.0   32.0      4.0      NaN          1  
3          0.7           46.0   52.0      4.0     80.0          1  
4          1.0            NaN  200.0      4.0      NaN          1  
..         ...            ...    ...      ...      ...        ...  
148        0.9           89.0  152.0      4.0      NaN          2  
149        0.6          120.0   30.0      4.0      NaN          2  
150        7.6            NaN  242.0      3.3     50.0          2  
151        0.9          126.0  142.0      4.3      NaN          2  
152        0.8           75.0   20.0      4.1      NaN          2  

[75 rows x 20 columns]
Jumlah Missing Values:
Class               0
Age                 0
Sex                 0
Steroid             1
Antivirals          0
Fatigue             1
Malaise             1
Anorexia            1
Liver Big          10
Liver Firm         11
Spleen Palpable     5
Spiders             5
Ascites             5
Varices             5
Bilirubin           6
Alk Phosphate      29
Sgot                4
Albumin            16
Protime            67
Histology           0
dtype: int64
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="prepocessing-data">
<h1>Prepocessing Data<a class="headerlink" href="#prepocessing-data" title="Link to this heading">#</a></h1>
<section id="transformasi-data">
<h2>Transformasi Data<a class="headerlink" href="#transformasi-data" title="Link to this heading">#</a></h2>
<p>Dataset diatas sebelumnya nama kelasnya bertipe data kategorikal lalu di transformasi menjadi numerik. Misalnya 2 mereperesentasikan kelas jinak sedangkan 4 merepresentasikan kelas ganas.</p>
<p>dikarenakan data sudah dalam bentuk transformasi, kami akan merubah data ke dalam bentuk sebelum di transformasi</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Ambil dataset</span>
<span class="n">hepatitis</span> <span class="o">=</span> <span class="n">fetch_ucirepo</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="mi">46</span><span class="p">)</span>

<span class="c1"># Data (sebagai dataframe pandas)</span>
<span class="n">dataBefore</span> <span class="o">=</span> <span class="n">hepatitis</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">original</span>

<span class="c1"># Mengganti label 1 dan 2 menjadi &#39;Stadium Awal&#39; dan &#39;Stadium Menengah&#39;</span>
<span class="n">dataBefore</span><span class="p">[</span><span class="s1">&#39;Class&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">dataBefore</span><span class="p">[</span><span class="s1">&#39;Class&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">replace</span><span class="p">({</span><span class="mi">1</span><span class="p">:</span> <span class="s1">&#39;live&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">:</span> <span class="s1">&#39;die&#39;</span><span class="p">})</span>

<span class="c1"># Tampilkan 20 baris pertama untuk memeriksa perubahan</span>
<span class="nb">print</span><span class="p">(</span><span class="n">dataBefore</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">20</span><span class="p">))</span>

<span class="nb">print</span><span class="p">(</span><span class="n">dataBefore</span><span class="p">[</span><span class="s1">&#39;Class&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">unique</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>   Class  Age  Sex  Steroid  Antivirals  Fatigue  Malaise  Anorexia  \
0    die   30    2      1.0           2      2.0      2.0       2.0   
1    die   50    1      1.0           2      1.0      2.0       2.0   
2    die   78    1      2.0           2      1.0      2.0       2.0   
3    die   31    1      NaN           1      2.0      2.0       2.0   
4    die   34    1      2.0           2      2.0      2.0       2.0   
5    die   34    1      2.0           2      2.0      2.0       2.0   
6   live   51    1      1.0           2      1.0      2.0       1.0   
7    die   23    1      2.0           2      2.0      2.0       2.0   
8    die   39    1      2.0           2      1.0      2.0       2.0   
9    die   30    1      2.0           2      2.0      2.0       2.0   
10   die   39    1      1.0           1      2.0      2.0       2.0   
11   die   32    1      2.0           1      1.0      2.0       2.0   
12   die   41    1      2.0           1      1.0      2.0       2.0   
13   die   30    1      2.0           2      1.0      2.0       2.0   
14   die   47    1      1.0           1      2.0      2.0       2.0   
15   die   38    1      1.0           2      1.0      1.0       1.0   
16   die   66    1      2.0           2      1.0      2.0       2.0   
17   die   40    1      1.0           2      1.0      2.0       2.0   
18   die   38    1      2.0           2      2.0      2.0       2.0   
19   die   38    1      1.0           1      2.0      2.0       2.0   

    Liver Big  Liver Firm  Spleen Palpable  Spiders  Ascites  Varices  \
0         1.0         2.0              2.0      2.0      2.0      2.0   
1         1.0         2.0              2.0      2.0      2.0      2.0   
2         2.0         2.0              2.0      2.0      2.0      2.0   
3         2.0         2.0              2.0      2.0      2.0      2.0   
4         2.0         2.0              2.0      2.0      2.0      2.0   
5         2.0         2.0              2.0      2.0      2.0      2.0   
6         2.0         2.0              1.0      1.0      2.0      2.0   
7         2.0         2.0              2.0      2.0      2.0      2.0   
8         2.0         1.0              2.0      2.0      2.0      2.0   
9         2.0         2.0              2.0      2.0      2.0      2.0   
10        1.0         1.0              2.0      2.0      2.0      2.0   
11        2.0         1.0              2.0      1.0      2.0      2.0   
12        2.0         1.0              2.0      2.0      2.0      2.0   
13        2.0         1.0              2.0      2.0      2.0      2.0   
14        2.0         2.0              2.0      2.0      2.0      2.0   
15        2.0         2.0              2.0      2.0      1.0      2.0   
16        2.0         2.0              2.0      2.0      2.0      2.0   
17        2.0         1.0              2.0      2.0      2.0      2.0   
18        2.0         2.0              2.0      2.0      2.0      2.0   
19        1.0         1.0              2.0      2.0      2.0      2.0   

    Bilirubin  Alk Phosphate   Sgot  Albumin  Protime  Histology  
0         1.0           85.0   18.0      4.0      NaN          1  
1         0.9          135.0   42.0      3.5      NaN          1  
2         0.7           96.0   32.0      4.0      NaN          1  
3         0.7           46.0   52.0      4.0     80.0          1  
4         1.0            NaN  200.0      4.0      NaN          1  
5         0.9           95.0   28.0      4.0     75.0          1  
6         NaN            NaN    NaN      NaN      NaN          1  
7         1.0            NaN    NaN      NaN      NaN          1  
8         0.7            NaN   48.0      4.4      NaN          1  
9         1.0            NaN  120.0      3.9      NaN          1  
10        1.3           78.0   30.0      4.4     85.0          1  
11        1.0           59.0  249.0      3.7     54.0          1  
12        0.9           81.0   60.0      3.9     52.0          1  
13        2.2           57.0  144.0      4.9     78.0          1  
14        NaN            NaN   60.0      NaN      NaN          1  
15        2.0           72.0   89.0      2.9     46.0          1  
16        1.2          102.0   53.0      4.3      NaN          1  
17        0.6           62.0  166.0      4.0     63.0          1  
18        0.7           53.0   42.0      4.1     85.0          2  
19        0.7           70.0   28.0      4.2     62.0          1  
[&#39;die&#39; &#39;live&#39;]
</pre></div>
</div>
</div>
</div>
<p>setelah dataset dikembalikan kebentuk sebelum ditransformasi maka berikut adalah cara dalam melakukan transformasi data. data label akan ditransformasi yang sebelumnya “live” dan “d” akan ditransformasi menjadi 1 dan 2. dengan detil yaitu 1 untuk live dan 2 untuk die</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">dataBefore</span><span class="p">[</span><span class="s1">&#39;Class&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">dataBefore</span><span class="p">[</span><span class="s1">&#39;Class&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">replace</span><span class="p">({</span><span class="s1">&#39;live&#39;</span><span class="p">:</span><span class="mi">1</span> <span class="p">,</span> <span class="s1">&#39;die&#39;</span><span class="p">:</span><span class="mi">2</span><span class="p">})</span>

<span class="c1"># Tampilkan 5 baris pertama</span>
<span class="nb">print</span><span class="p">(</span><span class="n">dataBefore</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">20</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>    Class  Age  Sex  Steroid  Antivirals  Fatigue  Malaise  Anorexia  \
0       2   30    2      1.0           2      2.0      2.0       2.0   
1       2   50    1      1.0           2      1.0      2.0       2.0   
2       2   78    1      2.0           2      1.0      2.0       2.0   
3       2   31    1      NaN           1      2.0      2.0       2.0   
4       2   34    1      2.0           2      2.0      2.0       2.0   
5       2   34    1      2.0           2      2.0      2.0       2.0   
6       1   51    1      1.0           2      1.0      2.0       1.0   
7       2   23    1      2.0           2      2.0      2.0       2.0   
8       2   39    1      2.0           2      1.0      2.0       2.0   
9       2   30    1      2.0           2      2.0      2.0       2.0   
10      2   39    1      1.0           1      2.0      2.0       2.0   
11      2   32    1      2.0           1      1.0      2.0       2.0   
12      2   41    1      2.0           1      1.0      2.0       2.0   
13      2   30    1      2.0           2      1.0      2.0       2.0   
14      2   47    1      1.0           1      2.0      2.0       2.0   
15      2   38    1      1.0           2      1.0      1.0       1.0   
16      2   66    1      2.0           2      1.0      2.0       2.0   
17      2   40    1      1.0           2      1.0      2.0       2.0   
18      2   38    1      2.0           2      2.0      2.0       2.0   
19      2   38    1      1.0           1      2.0      2.0       2.0   

    Liver Big  Liver Firm  Spleen Palpable  Spiders  Ascites  Varices  \
0         1.0         2.0              2.0      2.0      2.0      2.0   
1         1.0         2.0              2.0      2.0      2.0      2.0   
2         2.0         2.0              2.0      2.0      2.0      2.0   
3         2.0         2.0              2.0      2.0      2.0      2.0   
4         2.0         2.0              2.0      2.0      2.0      2.0   
5         2.0         2.0              2.0      2.0      2.0      2.0   
6         2.0         2.0              1.0      1.0      2.0      2.0   
7         2.0         2.0              2.0      2.0      2.0      2.0   
8         2.0         1.0              2.0      2.0      2.0      2.0   
9         2.0         2.0              2.0      2.0      2.0      2.0   
10        1.0         1.0              2.0      2.0      2.0      2.0   
11        2.0         1.0              2.0      1.0      2.0      2.0   
12        2.0         1.0              2.0      2.0      2.0      2.0   
13        2.0         1.0              2.0      2.0      2.0      2.0   
14        2.0         2.0              2.0      2.0      2.0      2.0   
15        2.0         2.0              2.0      2.0      1.0      2.0   
16        2.0         2.0              2.0      2.0      2.0      2.0   
17        2.0         1.0              2.0      2.0      2.0      2.0   
18        2.0         2.0              2.0      2.0      2.0      2.0   
19        1.0         1.0              2.0      2.0      2.0      2.0   

    Bilirubin  Alk Phosphate   Sgot  Albumin  Protime  Histology  
0         1.0           85.0   18.0      4.0      NaN          1  
1         0.9          135.0   42.0      3.5      NaN          1  
2         0.7           96.0   32.0      4.0      NaN          1  
3         0.7           46.0   52.0      4.0     80.0          1  
4         1.0            NaN  200.0      4.0      NaN          1  
5         0.9           95.0   28.0      4.0     75.0          1  
6         NaN            NaN    NaN      NaN      NaN          1  
7         1.0            NaN    NaN      NaN      NaN          1  
8         0.7            NaN   48.0      4.4      NaN          1  
9         1.0            NaN  120.0      3.9      NaN          1  
10        1.3           78.0   30.0      4.4     85.0          1  
11        1.0           59.0  249.0      3.7     54.0          1  
12        0.9           81.0   60.0      3.9     52.0          1  
13        2.2           57.0  144.0      4.9     78.0          1  
14        NaN            NaN   60.0      NaN      NaN          1  
15        2.0           72.0   89.0      2.9     46.0          1  
16        1.2          102.0   53.0      4.3      NaN          1  
17        0.6           62.0  166.0      4.0     63.0          1  
18        0.7           53.0   42.0      4.1     85.0          2  
19        0.7           70.0   28.0      4.2     62.0          1  
</pre></div>
</div>
</div>
</div>
</section>
<section id="imputasi">
<h2>Imputasi<a class="headerlink" href="#imputasi" title="Link to this heading">#</a></h2>
<section id="imputasi-missing-values-mean">
<h3>Imputasi Missing Values Mean<a class="headerlink" href="#imputasi-missing-values-mean" title="Link to this heading">#</a></h3>
<p>setelah missing value terdeteksi, kita perlu untuk mengisi data yang kosong dengan data yang pas agar data dapat digunakan,ada banyak cara untuk mengisi missing value antara lain yaitu dengan menggunkan metode mean,pada tahap ini kita akan melakukan imputasi dengan metode mean.</p>
<p>Untuk langkah-langkah nya sebagai berikut:</p>
<ul class="simple">
<li><p>hitung rata rata setiap kolom pada ‘data’ lalu simpan hasilnya di suatu variable disini saya mendefinisikan ‘mean_values’</p></li>
</ul>
<ul class="simple">
<li><p>gunakan metode dari pandas untuk mengisikan / mengantikan value yang kosong / hilang pada dataFrame. (saya disini untuk mengisi value yang kosong dengan menjumlahkan rata-rata dari setiap kolom.</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">meanValues</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
<span class="n">dataFilled</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="n">meanValues</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;ini hasil perhitungan mean menggunakan (fillna)&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">meanValues</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;input tiap klom missng dengan mean&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;jika output false berarti sudah tidak ada missing value&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">dataFilled</span><span class="o">.</span><span class="n">isnull</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;melihat secara tiap karakter&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">dataFilled</span><span class="o">.</span><span class="n">isnull</span><span class="p">()</span><span class="o">.</span><span class="n">any</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)</span>
<span class="n">missingValues</span> <span class="o">=</span> <span class="n">dataFilled</span><span class="o">.</span><span class="n">isnull</span><span class="p">()</span>
<span class="n">totalMissing</span> <span class="o">=</span> <span class="n">missingValues</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Jumlah Missing Values:&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">totalMissing</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>ini hasil perhitungan mean menggunakan (fillna)
Class                1.793548
Age                 41.200000
Sex                  1.103226
Steroid              1.506494
Antivirals           1.845161
Fatigue              1.350649
Malaise              1.603896
Anorexia             1.792208
Liver Big            1.827586
Liver Firm           1.583333
Spleen Palpable      1.800000
Spiders              1.660000
Ascites              1.866667
Varices              1.880000
Bilirubin            1.427517
Alk Phosphate      105.325397
Sgot                85.894040
Albumin              3.817266
Protime             61.852273
Histology            1.451613
dtype: float64

input tiap klom missng dengan mean
jika output false berarti sudah tidak ada missing value
     Class    Age    Sex  Steroid  Antivirals  Fatigue  Malaise  Anorexia  \
0    False  False  False    False       False    False    False     False   
1    False  False  False    False       False    False    False     False   
2    False  False  False    False       False    False    False     False   
3    False  False  False    False       False    False    False     False   
4    False  False  False    False       False    False    False     False   
..     ...    ...    ...      ...         ...      ...      ...       ...   
150  False  False  False    False       False    False    False     False   
151  False  False  False    False       False    False    False     False   
152  False  False  False    False       False    False    False     False   
153  False  False  False    False       False    False    False     False   
154  False  False  False    False       False    False    False     False   

     Liver Big  Liver Firm  Spleen Palpable  Spiders  Ascites  Varices  \
0        False       False            False    False    False    False   
1        False       False            False    False    False    False   
2        False       False            False    False    False    False   
3        False       False            False    False    False    False   
4        False       False            False    False    False    False   
..         ...         ...              ...      ...      ...      ...   
150      False       False            False    False    False    False   
151      False       False            False    False    False    False   
152      False       False            False    False    False    False   
153      False       False            False    False    False    False   
154      False       False            False    False    False    False   

     Bilirubin  Alk Phosphate   Sgot  Albumin  Protime  Histology  
0        False          False  False    False    False      False  
1        False          False  False    False    False      False  
2        False          False  False    False    False      False  
3        False          False  False    False    False      False  
4        False          False  False    False    False      False  
..         ...            ...    ...      ...      ...        ...  
150      False          False  False    False    False      False  
151      False          False  False    False    False      False  
152      False          False  False    False    False      False  
153      False          False  False    False    False      False  
154      False          False  False    False    False      False  

[155 rows x 20 columns]


melihat secara tiap karakter
Class              False
Age                False
Sex                False
Steroid            False
Antivirals         False
Fatigue            False
Malaise            False
Anorexia           False
Liver Big          False
Liver Firm         False
Spleen Palpable    False
Spiders            False
Ascites            False
Varices            False
Bilirubin          False
Alk Phosphate      False
Sgot               False
Albumin            False
Protime            False
Histology          False
dtype: bool


Jumlah Missing Values:
Class              0
Age                0
Sex                0
Steroid            0
Antivirals         0
Fatigue            0
Malaise            0
Anorexia           0
Liver Big          0
Liver Firm         0
Spleen Palpable    0
Spiders            0
Ascites            0
Varices            0
Bilirubin          0
Alk Phosphate      0
Sgot               0
Albumin            0
Protime            0
Histology          0
dtype: int64
</pre></div>
</div>
</div>
</div>
<p>simpan ke dalam format CSV:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">dataFilled</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="s2">&quot;hepatitis_mean.csv&quot;</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="imputasi-missing-values-knn">
<h3>Imputasi Missing Values KNN<a class="headerlink" href="#imputasi-missing-values-knn" title="Link to this heading">#</a></h3>
<p>Pada tahapan ini kami akan melakukan imputasi missing value dengan metode KNN dengan perhitungan jarak menggunakan rumus euclidien distance.</p>
<p>Langkah-langkah KNN :</p>
<ol class="arabic simple">
<li><p>Tentukan jumlah tetangga (K) yang akan digunakan untuk pertimbangan penentuan kelas (metode cross validation).</p></li>
</ol>
<ol class="arabic simple" start="2">
<li><p>Hitung jarak dari data baru ke masing-masing data point di dataset (eulidien distance).</p></li>
</ol>
<ol class="arabic simple" start="3">
<li><p>Ambil tetangga terdekat menurut K, kemudian hitung rata-ratanya</p></li>
</ol>
<p>Sedangkan untuk mencari nilai K terbaik kami menggunakan Cross validation</p>
<p>K-Fold Cross Validation atau lebih sering disebut cross validation adalah salah satu teknik yang populer dipakai dalam evaluasi model ML. Pada cross validation dataset dibagi sebanyak K lipatan. Pada setiap iterasi setiap lipatan akan dipakai satu kali sebagai data uji dan lipatan sisanya dipakai sebagai data latih. Dengan menggunakan cross validation kita akan memperoleh hasil evaluasi yang lebih akurat karena model dievaluasi dengan seluruh data.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">from</span> <span class="nn">sklearn.neighbors</span> <span class="kn">import</span> <span class="n">KNeighborsClassifier</span>
<span class="kn">from</span> <span class="nn">sklearn.metrics</span> <span class="kn">import</span> <span class="n">accuracy_score</span>
<span class="kn">from</span> <span class="nn">sklearn.model_selection</span> <span class="kn">import</span> <span class="n">cross_val_score</span><span class="p">,</span> <span class="n">train_test_split</span>
<span class="kn">from</span> <span class="nn">sklearn.preprocessing</span> <span class="kn">import</span> <span class="n">LabelEncoder</span><span class="p">,</span> <span class="n">StandardScaler</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="nn">sns</span>
<span class="o">%</span><span class="k">matplotlib</span> inline

<span class="c1"># Membaca dataset hepatitis</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;hepatitis.csv&#39;</span><span class="p">)</span>

<span class="c1"># Mengambil semua data yang tidak memiliki nilai yang hilang</span>
<span class="n">data_clean</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">dropna</span><span class="p">()</span>

<span class="c1"># Cetak informasi mengenai dimensi data yang tidak memiliki nilai yang hilang</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Dimensi data tanpa nilai yang hilang:&quot;</span><span class="p">,</span> <span class="n">data_clean</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>

<span class="c1"># Memisahkan fitur dan label</span>
<span class="n">feature_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Age&#39;</span><span class="p">,</span> <span class="s1">&#39;Sex&#39;</span><span class="p">,</span> <span class="s1">&#39;Steroid&#39;</span><span class="p">,</span> <span class="s1">&#39;Antivirals&#39;</span><span class="p">,</span> <span class="s1">&#39;Fatigue&#39;</span><span class="p">,</span> <span class="s1">&#39;Malaise&#39;</span><span class="p">,</span>
                   <span class="s1">&#39;Anorexia&#39;</span><span class="p">,</span> <span class="s1">&#39;Liver Big&#39;</span><span class="p">,</span> <span class="s1">&#39;Liver Firm&#39;</span><span class="p">,</span> <span class="s1">&#39;Spleen Palpable&#39;</span><span class="p">,</span> <span class="s1">&#39;Spiders&#39;</span><span class="p">,</span>
                   <span class="s1">&#39;Ascites&#39;</span><span class="p">,</span> <span class="s1">&#39;Varices&#39;</span><span class="p">,</span> <span class="s1">&#39;Bilirubin&#39;</span><span class="p">,</span> <span class="s1">&#39;Alk Phosphate&#39;</span><span class="p">,</span> <span class="s1">&#39;Sgot&#39;</span><span class="p">,</span> <span class="s1">&#39;Albumin&#39;</span><span class="p">,</span>
                   <span class="s1">&#39;Protime&#39;</span><span class="p">,</span> <span class="s1">&#39;Histology&#39;</span><span class="p">]</span>
<span class="n">X</span> <span class="o">=</span> <span class="n">data_clean</span><span class="p">[</span><span class="n">feature_columns</span><span class="p">]</span><span class="o">.</span><span class="n">values</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">data_clean</span><span class="p">[</span><span class="s1">&#39;Class&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">values</span>

<span class="c1"># Mengubah label menjadi numerik</span>
<span class="n">le</span> <span class="o">=</span> <span class="n">LabelEncoder</span><span class="p">()</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">le</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>

<span class="c1"># Membagi data menjadi data latih dan data uji</span>
<span class="n">X_train</span><span class="p">,</span> <span class="n">X_test</span><span class="p">,</span> <span class="n">y_train</span><span class="p">,</span> <span class="n">y_test</span> <span class="o">=</span> <span class="n">train_test_split</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">test_size</span><span class="o">=</span><span class="mf">0.2</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>

<span class="c1"># Standarisasi fitur</span>
<span class="n">scaler</span> <span class="o">=</span> <span class="n">StandardScaler</span><span class="p">()</span>
<span class="n">X_train</span> <span class="o">=</span> <span class="n">scaler</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">X_train</span><span class="p">)</span>
<span class="n">X_test</span> <span class="o">=</span> <span class="n">scaler</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">X_test</span><span class="p">)</span>

<span class="c1"># Membuat list k untuk KNN</span>
<span class="n">k_list</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Nilai K yang akan diuji = </span><span class="si">{</span><span class="n">k_list</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="n">cv_scores</span> <span class="o">=</span> <span class="p">[]</span>

<span class="c1"># Melakukan 10-fold cross validation</span>
<span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">k_list</span><span class="p">:</span>
    <span class="n">knn</span> <span class="o">=</span> <span class="n">KNeighborsClassifier</span><span class="p">(</span><span class="n">n_neighbors</span><span class="o">=</span><span class="n">k</span><span class="p">)</span>
    <span class="n">scores</span> <span class="o">=</span> <span class="n">cross_val_score</span><span class="p">(</span><span class="n">knn</span><span class="p">,</span> <span class="n">X_train</span><span class="p">,</span> <span class="n">y_train</span><span class="p">,</span> <span class="n">cv</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">scoring</span><span class="o">=</span><span class="s1">&#39;accuracy&#39;</span><span class="p">)</span>
    <span class="n">cv_scores</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">scores</span><span class="o">.</span><span class="n">mean</span><span class="p">())</span>

<span class="c1"># Menghitung MSE</span>
<span class="n">MSE</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span> <span class="o">-</span> <span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">cv_scores</span><span class="p">]</span>

<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;The optimal number of neighbors&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span> <span class="n">fontweight</span><span class="o">=</span><span class="s1">&#39;bold&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Number of Neighbors K&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Misclassification Error&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>
<span class="n">sns</span><span class="o">.</span><span class="n">set_style</span><span class="p">(</span><span class="s2">&quot;whitegrid&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">k_list</span><span class="p">,</span> <span class="n">MSE</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

<span class="c1"># Menemukan nilai k terbaik</span>
<span class="n">best_k</span> <span class="o">=</span> <span class="n">k_list</span><span class="p">[</span><span class="n">MSE</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="nb">min</span><span class="p">(</span><span class="n">MSE</span><span class="p">))]</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;The optimal number of neighbors is </span><span class="si">%d</span><span class="s2">.&quot;</span> <span class="o">%</span> <span class="n">best_k</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Dimensi data tanpa nilai yang hilang: (80, 21)
Nilai K yang akan diuji = [1, 3, 5, 7, 9, 11, 13, 15, 17, 19, 21, 23, 25, 27, 29, 31, 33, 35, 37, 39, 41, 43, 45, 47, 49]
</pre></div>
</div>
<img alt="_images/f61ef98c20825aa1c79434ef7382a007a54200d7dcf440a373ae6a7563ac3096.png" src="_images/f61ef98c20825aa1c79434ef7382a007a54200d7dcf440a373ae6a7563ac3096.png" />
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>The optimal number of neighbors is 13.
</pre></div>
</div>
</div>
</div>
<p>Setelah didapati jumlah K terbaik, maka kita coba cek akurasinya</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">classifier</span> <span class="o">=</span> <span class="n">KNeighborsClassifier</span><span class="p">(</span><span class="n">n_neighbors</span><span class="o">=</span><span class="n">best_k</span><span class="p">)</span> <span class="c1">#best_K adalah 13</span>

<span class="c1"># Melatih model</span>
<span class="n">classifier</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X_train</span><span class="p">,</span> <span class="n">y_train</span><span class="p">)</span>

<span class="c1"># Memprediksi data uji</span>
<span class="n">y_pred</span> <span class="o">=</span> <span class="n">classifier</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X_test</span><span class="p">)</span>

<span class="c1"># Menghitung akurasi</span>
<span class="n">accuracy</span> <span class="o">=</span> <span class="n">accuracy_score</span><span class="p">(</span><span class="n">y_test</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">)</span> <span class="o">*</span> <span class="mi">100</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Accuracy of our model is equal &#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">accuracy</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span> <span class="o">+</span> <span class="s1">&#39; %.&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Accuracy of our model is equal 93.75 %.
</pre></div>
</div>
</div>
</div>
<p>setelah didapati akurasi model apabila K berjumlah13 mendapat hasil 93.75%. maka model tersebut dikatakan baik karena berada di atas 85%. langkah selanjutnya adalah melakukan imputasi dengan KNN</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">from</span> <span class="nn">sklearn.impute</span> <span class="kn">import</span> <span class="n">KNNImputer</span>
<span class="kn">from</span> <span class="nn">sklearn.preprocessing</span> <span class="kn">import</span> <span class="n">MinMaxScaler</span>
<span class="kn">from</span> <span class="nn">sklearn.impute</span> <span class="kn">import</span> <span class="n">KNNImputer</span>

<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;hepatitis.csv&#39;</span><span class="p">)</span>

<span class="c1"># Inisialisasi KNNImputer</span>
<span class="n">imputer</span> <span class="o">=</span> <span class="n">KNNImputer</span><span class="p">(</span><span class="n">n_neighbors</span><span class="o">=</span><span class="mi">9</span><span class="p">,</span> <span class="n">metric</span><span class="o">=</span><span class="s1">&#39;nan_euclidean&#39;</span><span class="p">)</span> 

<span class="c1"># Lakukan imputasi pada data yang memiliki nilai yang hilang</span>
<span class="n">data_imputed</span> <span class="o">=</span> <span class="n">imputer</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>

<span class="c1"># Konversi hasil imputasi menjadi DataFrame</span>
<span class="n">data_imputed_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data_imputed</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="n">df</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span>

<span class="c1"># Detect missing values</span>
<span class="n">missing_values</span> <span class="o">=</span> <span class="n">data_imputed_df</span><span class="o">.</span><span class="n">isnull</span><span class="p">()</span>

<span class="c1"># Count missing values in each column</span>
<span class="n">missing_counts</span> <span class="o">=</span> <span class="n">missing_values</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>

<span class="c1"># Display missing value counts</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;---------------------------Missing Value Counts---------------------------&quot;</span><span class="o">.</span><span class="n">center</span><span class="p">(</span><span class="mi">100</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">missing_counts</span><span class="p">)</span>

<span class="nb">print</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;---------------------------Hasil data yang sudah diimputasi---------------------------&quot;</span><span class="p">)</span>
<span class="c1"># List dari indeks yang ingin ditampilkan</span>
<span class="n">indeks_tampilkan</span> <span class="o">=</span> <span class="p">[</span><span class="mi">23</span><span class="p">,</span> <span class="mi">40</span><span class="p">,</span> <span class="mi">43</span><span class="p">,</span> <span class="mi">44</span><span class="p">,</span> <span class="mi">48</span><span class="p">,</span> <span class="mi">66</span><span class="p">,</span> <span class="mi">87</span><span class="p">]</span>

<span class="c1"># Tampilkan data pada indeks yang diberikan</span>
<span class="n">data_tampil</span> <span class="o">=</span> <span class="n">data_imputed_df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">indeks_tampilkan</span><span class="p">]</span>
<span class="nb">print</span><span class="p">(</span><span class="n">data_tampil</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>             ---------------------------Missing Value Counts---------------------------             
Unnamed: 0         0
Class              0
Age                0
Sex                0
Steroid            0
Antivirals         0
Fatigue            0
Malaise            0
Anorexia           0
Liver Big          0
Liver Firm         0
Spleen Palpable    0
Spiders            0
Ascites            0
Varices            0
Bilirubin          0
Alk Phosphate      0
Sgot               0
Albumin            0
Protime            0
Histology          0
dtype: int64

---------------------------Hasil data yang sudah diimputasi---------------------------
    Unnamed: 0  Class   Age  Sex  Steroid  Antivirals  Fatigue  Malaise  \
23        23.0    2.0  42.0  1.0      2.0         2.0      2.0      2.0   
40        40.0    2.0  52.0  1.0      1.0         1.0      2.0      2.0   
43        43.0    2.0  56.0  1.0      1.0         2.0      1.0      2.0   
44        44.0    2.0  34.0  1.0      2.0         2.0      2.0      2.0   
48        48.0    2.0  36.0  1.0      1.0         2.0      2.0      2.0   
66        66.0    2.0  56.0  1.0      1.0         2.0      2.0      2.0   
87        87.0    1.0  30.0  1.0      2.0         2.0      1.0      1.0   

    Anorexia  Liver Big  ...  Spleen Palpable  Spiders  Ascites  Varices  \
23       2.0        2.0  ...              2.0      2.0      2.0      2.0   
40       2.0        2.0  ...              2.0      2.0      2.0      2.0   
43       2.0        2.0  ...              2.0      2.0      2.0      2.0   
44       2.0        2.0  ...              2.0      2.0      2.0      2.0   
48       2.0        2.0  ...              1.0      2.0      2.0      2.0   
66       2.0        2.0  ...              2.0      2.0      2.0      2.0   
87       1.0        2.0  ...              2.0      1.0      1.0      1.0   

    Bilirubin  Alk Phosphate  Sgot   Albumin     Protime  Histology  
23   0.900000      60.000000  63.0  4.700000   47.000000        1.0  
40   0.700000      75.000000  55.0  4.000000   21.000000        1.0  
43   0.700000      71.000000  18.0  4.400000  100.000000        1.0  
44   1.133333     105.333333  86.0  4.122222   60.666667        1.0  
48   0.800000      85.000000  44.0  4.200000   85.000000        1.0  
66   0.700000      62.000000  33.0  3.000000   72.555556        1.0  
87   2.500000     165.000000  64.0  2.800000   54.000000        2.0  

[7 rows x 21 columns]
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># menyimpan hasil komputasi ke dalam csv</span>
<span class="n">data_imputed_df</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="s2">&quot;hepatitis_knn.csv&quot;</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="pendeteksian-outlier">
<h3>Pendeteksian Outlier<a class="headerlink" href="#pendeteksian-outlier" title="Link to this heading">#</a></h3>
<p>Outlier/pencilan merupakan data pada dataset yang menyimpang dari data lainnya,mendeteksi outlier perlu agar data yang kita olah memberikan hasil yang baik pada model yang akan kita buat nantinya.outlier dapat diidentifikasi dan ditangani dengan beberapa cara antara lain yang akan kami gunakan yaitu LOF(Local Outlier Factor).</p>
<p>Konsep Local Outlier Factor</p>
<p>Outlier adalah titik data yang berbeda atau jauh dari titik data lainnya. Local Outlier Factor (LOF) adalah algoritma yang mengidentifikasi outlier yang ada dalam kumpulan data. Ketika suatu titik dianggap sebagai outlier berdasarkan lingkungan lokalnya, maka titik tersebut disebut local outlier . LOF akan mengidentifikasi outlier dengan mempertimbangkan kepadatan lingkungan. LOF bekerja dengan baik ketika kepadatan data tidak sama di seluruh kumpulan data.</p>
<p>Untuk memahami LOF, kita harus mempelajari beberapa konsep secara berurutan:</p>
<ul class="simple">
<li><p>K-distance dan K-neighbors</p></li>
</ul>
<ul class="simple">
<li><p>Reachability Distance (RD)</p></li>
</ul>
<ul class="simple">
<li><p>Local Reachability Density (LRD)</p></li>
</ul>
<ul class="simple">
<li><p>Local Outlier Factor (LOF)</p></li>
</ul>
<p>K-distance dan K-neighbors</p>
<p>K-distance adalah jarak antara suatu titik, dan merupakan tetangga terdekat Kᵗʰ. Tetangga K yang dilambangkan dengan Nₖ(A) mencakup himpunan titik yang terletak di dalam atau pada lingkaran berjari-jari jarak K. K-tetangga bisa lebih dari atau sama dengan nilai K. Kita akan melihat contohnya. Katakanlah kita mempunyai empat titik A, B, C, dan D. Jika K=2, K-tetangga A adalah C, B, dan D. Di sini, nilai K=2 tetapi ||N₂(A)|| = 3. Oleh karena itu, ||Nₖ(titik)|| akan selalu lebih besar atau sama dengan K.</p>
<p>Reachability distance (RD)</p>
<p>Ini didefinisikan sebagai jarak K maksimum Xj dan jarak antara Xi dan Xj. Ukuran jarak bersifat khusus untuk masalah (Euclidean, Manhattan, dll.) Dalam istilah awam, jika titik Xi terletak di dalam K-tetangga Xj, maka jarak jangkauannya adalah K-jarak Xj (garis biru), jika tidak, jarak jangkauannya adalah jarak antara Xi dan Xj (garis oranye).</p>
<p>Local reachability density (LRD)</p>
<p>LRD merupakan kebalikan dari rata-rata jarak jangkauan A dari tetangganya. Semakin besar jarak jangkauan rata-rata (yaitu, tetangga jauh dari titik tersebut), semakin sedikit kepadatan titik yang ada di sekitar titik tertentu. Ini menunjukkan seberapa jauh suatu titik dari kelompok titik terdekat. Nilai LRD yang rendah menunjukkan bahwa cluster terdekat berada jauh dari titik.</p>
<p>Local Outlier Factor (LOF)</p>
<p>LRD tiap titik digunakan untuk membandingkan dengan rata-rata LRD K tetangganya. LOF adalah perbandingan rata-rata LRD K tetangga A terhadap LRD A. Jika suatu titik bukan merupakan pencilan (inlier), rasio rata-rata LRD tetangganya kira-kira sama dengan LRD suatu titik (karena kepadatan suatu titik dan tetangganya kira-kira sama). Dalam hal ini, LOF hampir sama dengan 1. Sebaliknya, jika suatu titik merupakan outlier, LRD suatu titik lebih kecil dari rata-rata LRD tetangganya. Maka nilai LOF akan tinggi. Umumnya jika LOF &gt; 1 maka dianggap outlier, namun hal tersebut tidak selalu benar. Katakanlah kita mengetahui bahwa kita hanya memiliki satu outlier dalam data, lalu kita ambil nilai LOF maksimum di antara semua nilai LOF, dan titik yang sesuai dengan nilai LOF maksimum akan dianggap sebagai outlier.</p>
<p>Untuk langkah-langkah perhitungan manual Local Outlier Factor (LOF) yaitu :</p>
<ol class="arabic simple">
<li><p>Menghitung jarak dan menentukan tetangga</p></li>
</ol>
<ol class="arabic simple" start="2">
<li><p>Menghitung Reachability Distance (RD)</p></li>
</ol>
<ol class="arabic simple" start="3">
<li><p>Menghitung Local Reachability Distance (LRD)</p></li>
</ol>
<ol class="arabic simple" start="4">
<li><p>Menghitung Local Outlier Factor (LOF)</p></li>
</ol>
<p>Implementasi Local Outlier Factor dengan Scikit Learn</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># import pandas as pd</span>
<span class="c1"># from sklearn.neighbors import LocalOutlierFactor</span>
<span class="c1"># from sklearn.metrics import precision_score</span>
<span class="c1"># import matplotlib.pyplot as plt</span>

<span class="c1"># # Menggunakan dataset yang telah diproses sebelumnya</span>
<span class="c1"># data1 = data_clean[feature_columns]</span>

<span class="c1"># # Membuat model LOF</span>
<span class="c1"># lof = LocalOutlierFactor(n_neighbors=9, contamination=0.03)</span>

<span class="c1"># # Melakukan prediksi outlier untuk setiap fitur</span>
<span class="c1"># outlier_indices = []</span>
<span class="c1"># for column in data1.columns:</span>
<span class="c1">#     # Mengambil nilai fitur</span>
<span class="c1">#     feature_values = data1[column].values.reshape(-1, 1)</span>
<span class="c1">#     # Melakukan prediksi outlier</span>
<span class="c1">#     y_pred = lof.fit_predict(feature_values)</span>
<span class="c1">#     # Menambahkan indeks outlier ke dalam daftar outlier_indices</span>
<span class="c1">#     outlier_indices.extend([(i, column) for i, label in enumerate(y_pred) if label == -1])</span>

<span class="c1"># # Menghilangkan indeks outlier yang duplikat</span>
<span class="c1"># outlier_indices = list(set(outlier_indices))</span>

<span class="c1"># # Menampilkan indeks outlier yang ditemukan</span>
<span class="c1"># print(&quot;===================================== OUTLIER =====================================&quot;)</span>
<span class="c1"># for i in outlier_indices:</span>
<span class="c1">#     print(f&quot;outlier ditemukan pada baris =&gt; {i[0]}, kolom =&gt; {i[1]}&quot;)</span>

<span class="c1"># # Mengumpulkan indeks baris yang mengandung outlier</span>
<span class="c1"># outlier_row_indices = [index[0] for index in outlier_indices]</span>

<span class="c1"># # Menampilkan data pada baris yang mengandung outlier</span>
<span class="c1"># outlier_data = data_clean.iloc[outlier_row_indices]</span>
<span class="c1"># print(&quot;===================================== DATA =====================================&quot;)</span>
<span class="c1"># print(&quot;Data pada baris yang mengandung outlier:&quot;)</span>
<span class="c1"># print(outlier_data)</span>

<span class="c1"># # Mengasumsikan Anda memiliki labels outlier yang sesuai dengan indeks outlier yang Anda temukan</span>
<span class="c1"># # Misalnya, dalam list ini, nilai 1 menunjukkan outlier, dan 0 menunjukkan bukan outlier</span>
<span class="c1"># ground_truth_labels = [1 if i in outlier_row_indices else 0 for i in range(len(data_clean))]</span>

<span class="c1"># # Menghasilkan prediksi outlier berdasarkan outlier_row_indices</span>
<span class="c1"># predicted_labels = [1 if i in outlier_row_indices else 0 for i in range(len(data_clean))]</span>

<span class="c1"># # Menghitung akurasi</span>
<span class="c1"># precision = precision_score(ground_truth_labels, predicted_labels)</span>

<span class="c1"># print(&quot;==================================== AKURASI ====================================&quot;)</span>
<span class="c1"># print(f&quot;akurasi: {precision}&quot;)</span>






<span class="kn">from</span> <span class="nn">sklearn.neighbors</span> <span class="kn">import</span> <span class="n">LocalOutlierFactor</span>
<span class="kn">from</span> <span class="nn">sklearn.metrics</span> <span class="kn">import</span> <span class="n">precision_score</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>

<span class="c1"># Membuat model LOF</span>
<span class="n">lof</span> <span class="o">=</span> <span class="n">LocalOutlierFactor</span><span class="p">(</span><span class="n">n_neighbors</span><span class="o">=</span><span class="mi">13</span><span class="p">,</span> <span class="n">contamination</span><span class="o">=</span><span class="mf">0.03</span><span class="p">)</span>

<span class="n">data1</span> <span class="o">=</span> <span class="n">data_imputed_df</span>
<span class="n">data1</span> <span class="o">=</span> <span class="n">data1</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="n">data1</span><span class="o">.</span><span class="n">columns</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>

<span class="c1"># Melakukan prediksi outlier untuk setiap fitur</span>
<span class="n">outlier_indices</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">column</span> <span class="ow">in</span> <span class="n">data1</span><span class="o">.</span><span class="n">columns</span><span class="p">:</span>
    <span class="c1"># Mengambil nilai fitur</span>
    <span class="n">feature_values</span> <span class="o">=</span> <span class="n">data1</span><span class="p">[</span><span class="n">column</span><span class="p">]</span><span class="o">.</span><span class="n">values</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
    <span class="c1"># Melakukan prediksi outlier</span>
    <span class="n">y_pred</span> <span class="o">=</span> <span class="n">lof</span><span class="o">.</span><span class="n">fit_predict</span><span class="p">(</span><span class="n">feature_values</span><span class="p">)</span>
    <span class="c1"># Menambahkan indeks outlier ke dalam daftar outlier_indices</span>
    <span class="n">outlier_indices</span><span class="o">.</span><span class="n">extend</span><span class="p">([(</span><span class="n">i</span><span class="p">,</span> <span class="n">column</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">label</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">y_pred</span><span class="p">)</span> <span class="k">if</span> <span class="n">label</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span><span class="p">])</span>

<span class="c1"># Menghilangkan indeks outlier yang duplikat</span>
<span class="n">outlier_indices</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">outlier_indices</span><span class="p">))</span>

<span class="c1"># Menampilkan outlier untuk setiap fitur</span>
<span class="c1"># for column in data1.columns:</span>
<span class="c1">#     plt.scatter(range(len(data1[column])), data1[column], label=column)</span>
<span class="c1">#     plt.scatter(outlier_indices, data1[column].iloc[outlier_indices], color=&#39;r&#39;, label=&quot;Outlier&quot;)</span>
<span class="c1">#     plt.xlabel(&quot;Index&quot;)</span>
<span class="c1">#     plt.ylabel(column)</span>
<span class="c1">#     plt.title(f&quot;Outlier Detection for {column}&quot;)</span>
<span class="c1">#     plt.legend()</span>
<span class="c1">#     plt.show()</span>

<span class="c1"># Menampilkan indeks outlier yang ditemukan</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;===================================== OUTLIER =====================================&quot;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">outlier_indices</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;outlier ditemukan pada baris =&gt; </span><span class="si">{</span><span class="n">i</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="si">}</span><span class="s2">, kolom =&gt; </span><span class="si">{</span><span class="n">i</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="c1"># Mengumpulkan indeks baris yang mengandung outlier</span>
<span class="n">outlier_row_indices</span> <span class="o">=</span> <span class="p">[</span><span class="n">index</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">for</span> <span class="n">index</span> <span class="ow">in</span> <span class="n">outlier_indices</span><span class="p">]</span>

<span class="c1"># Menampilkan data pada baris yang mengandung outlier</span>
<span class="n">outlier_data</span> <span class="o">=</span> <span class="n">data_imputed_df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">outlier_row_indices</span><span class="p">]</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;===================================== DATA =====================================&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Data pada baris yang mengandung outlier:&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">outlier_data</span><span class="p">)</span>


<span class="c1"># Mengasumsikan Anda memiliki labels outlier yang sesuai dengan indeks outlier yang Anda temukan</span>
<span class="c1"># Misalnya, dalam list ini, nilai 1 menunjukkan outlier, dan 0 menunjukkan bukan outlier</span>
<span class="n">ground_truth_labels</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span> <span class="k">if</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">outlier_row_indices</span> <span class="k">else</span> <span class="mi">0</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">data_imputed_df</span><span class="p">))]</span>

<span class="c1"># Menghasilkan prediksi outlier berdasarkan outlier_row_indices</span>
<span class="n">predicted_labels</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span> <span class="k">if</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">outlier_row_indices</span> <span class="k">else</span> <span class="mi">0</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">data_imputed_df</span><span class="p">))]</span>

<span class="c1"># Menghitung akurasi</span>
<span class="n">precision</span> <span class="o">=</span> <span class="n">precision_score</span><span class="p">(</span><span class="n">ground_truth_labels</span><span class="p">,</span> <span class="n">predicted_labels</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;==================================== AKURASI ====================================&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;akurasi: </span><span class="si">{</span><span class="n">precision</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>===================================== OUTLIER =====================================
outlier ditemukan pada baris =&gt; 72, kolom =&gt; Spleen Palpable
outlier ditemukan pada baris =&gt; 147, kolom =&gt; Age
outlier ditemukan pada baris =&gt; 106, kolom =&gt; Liver Firm
outlier ditemukan pada baris =&gt; 147, kolom =&gt; Spiders
outlier ditemukan pada baris =&gt; 92, kolom =&gt; Liver Big
outlier ditemukan pada baris =&gt; 31, kolom =&gt; Liver Firm
outlier ditemukan pada baris =&gt; 6, kolom =&gt; Alk Phosphate
outlier ditemukan pada baris =&gt; 118, kolom =&gt; Liver Big
outlier ditemukan pada baris =&gt; 47, kolom =&gt; Sgot
outlier ditemukan pada baris =&gt; 80, kolom =&gt; Sgot
outlier ditemukan pada baris =&gt; 72, kolom =&gt; Spiders
outlier ditemukan pada baris =&gt; 147, kolom =&gt; Varices
outlier ditemukan pada baris =&gt; 154, kolom =&gt; Unnamed: 0
outlier ditemukan pada baris =&gt; 0, kolom =&gt; Unnamed: 0
outlier ditemukan pada baris =&gt; 83, kolom =&gt; Spleen Palpable
outlier ditemukan pada baris =&gt; 72, kolom =&gt; Varices
outlier ditemukan pada baris =&gt; 49, kolom =&gt; Protime
outlier ditemukan pada baris =&gt; 56, kolom =&gt; Malaise
outlier ditemukan pada baris =&gt; 83, kolom =&gt; Spiders
outlier ditemukan pada baris =&gt; 56, kolom =&gt; Fatigue
outlier ditemukan pada baris =&gt; 147, kolom =&gt; Ascites
outlier ditemukan pada baris =&gt; 41, kolom =&gt; Spiders
outlier ditemukan pada baris =&gt; 98, kolom =&gt; Alk Phosphate
outlier ditemukan pada baris =&gt; 72, kolom =&gt; Ascites
outlier ditemukan pada baris =&gt; 38, kolom =&gt; Sgot
outlier ditemukan pada baris =&gt; 40, kolom =&gt; Protime
outlier ditemukan pada baris =&gt; 147, kolom =&gt; Liver Firm
outlier ditemukan pada baris =&gt; 83, kolom =&gt; Varices
outlier ditemukan pada baris =&gt; 120, kolom =&gt; Alk Phosphate
outlier ditemukan pada baris =&gt; 83, kolom =&gt; Ascites
outlier ditemukan pada baris =&gt; 56, kolom =&gt; Spleen Palpable
outlier ditemukan pada baris =&gt; 133, kolom =&gt; Age
outlier ditemukan pada baris =&gt; 31, kolom =&gt; Albumin
outlier ditemukan pada baris =&gt; 130, kolom =&gt; Protime
outlier ditemukan pada baris =&gt; 1, kolom =&gt; Unnamed: 0
outlier ditemukan pada baris =&gt; 56, kolom =&gt; Spiders
outlier ditemukan pada baris =&gt; 2, kolom =&gt; Protime
outlier ditemukan pada baris =&gt; 13, kolom =&gt; Protime
outlier ditemukan pada baris =&gt; 147, kolom =&gt; Spleen Palpable
outlier ditemukan pada baris =&gt; 148, kolom =&gt; Alk Phosphate
outlier ditemukan pada baris =&gt; 147, kolom =&gt; Sgot
outlier ditemukan pada baris =&gt; 56, kolom =&gt; Varices
outlier ditemukan pada baris =&gt; 141, kolom =&gt; Liver Big
outlier ditemukan pada baris =&gt; 153, kolom =&gt; Unnamed: 0
outlier ditemukan pada baris =&gt; 56, kolom =&gt; Anorexia
outlier ditemukan pada baris =&gt; 115, kolom =&gt; Age
outlier ditemukan pada baris =&gt; 104, kolom =&gt; Alk Phosphate
outlier ditemukan pada baris =&gt; 56, kolom =&gt; Liver Firm
outlier ditemukan pada baris =&gt; 110, kolom =&gt; Age
outlier ditemukan pada baris =&gt; 107, kolom =&gt; Sgot
outlier ditemukan pada baris =&gt; 3, kolom =&gt; Steroid
outlier ditemukan pada baris =&gt; 147, kolom =&gt; Liver Big
outlier ditemukan pada baris =&gt; 148, kolom =&gt; Liver Firm
outlier ditemukan pada baris =&gt; 59, kolom =&gt; Albumin
outlier ditemukan pada baris =&gt; 72, kolom =&gt; Liver Big
outlier ditemukan pada baris =&gt; 152, kolom =&gt; Unnamed: 0
outlier ditemukan pada baris =&gt; 2, kolom =&gt; Age
===================================== DATA =====================================
Data pada baris yang mengandung outlier:
     Unnamed: 0  Class   Age  Sex   Steroid  Antivirals   Fatigue   Malaise  \
72         72.0    2.0  51.0  1.0  2.000000         2.0  1.000000  1.000000   
147       147.0    1.0  70.0  1.0  1.000000         2.0  1.000000  1.000000   
106       106.0    1.0  35.0  1.0  1.000000         2.0  1.000000  2.000000   
147       147.0    1.0  70.0  1.0  1.000000         2.0  1.000000  1.000000   
92         92.0    2.0  33.0  1.0  2.000000         2.0  2.000000  2.000000   
31         31.0    1.0  62.0  1.0  1.000000         2.0  1.000000  1.000000   
6           6.0    1.0  51.0  1.0  1.000000         2.0  1.000000  2.000000   
118       118.0    1.0  61.0  1.0  1.000000         2.0  1.000000  1.000000   
47         47.0    2.0  28.0  2.0  2.000000         2.0  1.000000  1.000000   
80         80.0    2.0  23.0  1.0  2.000000         2.0  1.000000  1.000000   
72         72.0    2.0  51.0  1.0  2.000000         2.0  1.000000  1.000000   
147       147.0    1.0  70.0  1.0  1.000000         2.0  1.000000  1.000000   
154       154.0    1.0  43.0  1.0  2.000000         2.0  1.000000  2.000000   
0           0.0    2.0  30.0  2.0  1.000000         2.0  2.000000  2.000000   
83         83.0    2.0  67.0  2.0  1.000000         2.0  1.000000  1.000000   
72         72.0    2.0  51.0  1.0  2.000000         2.0  1.000000  1.000000   
49         49.0    2.0  38.0  1.0  2.000000         1.0  1.000000  1.000000   
56         56.0    2.0  34.0  1.0  1.000000         2.0  1.555556  1.777778   
83         83.0    2.0  67.0  2.0  1.000000         2.0  1.000000  1.000000   
56         56.0    2.0  34.0  1.0  1.000000         2.0  1.555556  1.777778   
147       147.0    1.0  70.0  1.0  1.000000         2.0  1.000000  1.000000   
41         41.0    2.0  23.0  1.0  2.000000         2.0  2.000000  2.000000   
98         98.0    1.0  47.0  1.0  2.000000         2.0  2.000000  2.000000   
72         72.0    2.0  51.0  1.0  2.000000         2.0  1.000000  1.000000   
38         38.0    2.0  42.0  1.0  1.000000         2.0  2.000000  2.000000   
40         40.0    2.0  52.0  1.0  1.000000         1.0  2.000000  2.000000   
147       147.0    1.0  70.0  1.0  1.000000         2.0  1.000000  1.000000   
83         83.0    2.0  67.0  2.0  1.000000         2.0  1.000000  1.000000   
120       120.0    1.0  56.0  1.0  1.000000         2.0  1.000000  1.000000   
83         83.0    2.0  67.0  2.0  1.000000         2.0  1.000000  1.000000   
56         56.0    2.0  34.0  1.0  1.000000         2.0  1.555556  1.777778   
133       133.0    2.0  72.0  1.0  2.000000         1.0  1.000000  2.000000   
31         31.0    1.0  62.0  1.0  1.000000         2.0  1.000000  1.000000   
130       130.0    2.0  54.0  1.0  2.000000         2.0  2.000000  2.000000   
1           1.0    2.0  50.0  1.0  1.000000         2.0  1.000000  2.000000   
56         56.0    2.0  34.0  1.0  1.000000         2.0  1.555556  1.777778   
2           2.0    2.0  78.0  1.0  2.000000         2.0  1.000000  2.000000   
13         13.0    2.0  30.0  1.0  2.000000         2.0  1.000000  2.000000   
147       147.0    1.0  70.0  1.0  1.000000         2.0  1.000000  1.000000   
148       148.0    2.0  20.0  1.0  1.000000         2.0  2.000000  2.000000   
147       147.0    1.0  70.0  1.0  1.000000         2.0  1.000000  1.000000   
56         56.0    2.0  34.0  1.0  1.000000         2.0  1.555556  1.777778   
141       141.0    1.0  54.0  1.0  1.000000         2.0  1.000000  1.000000   
153       153.0    2.0  53.0  2.0  1.000000         2.0  1.000000  2.000000   
56         56.0    2.0  34.0  1.0  1.000000         2.0  1.555556  1.777778   
115       115.0    2.0  69.0  2.0  2.000000         2.0  1.000000  2.000000   
104       104.0    1.0  47.0  1.0  2.000000         2.0  1.000000  1.000000   
56         56.0    2.0  34.0  1.0  1.000000         2.0  1.555556  1.777778   
110       110.0    2.0   7.0  1.0  2.000000         2.0  2.000000  2.000000   
107       107.0    2.0  45.0  1.0  1.000000         2.0  1.000000  1.000000   
3           3.0    2.0  31.0  1.0  1.444444         1.0  2.000000  2.000000   
147       147.0    1.0  70.0  1.0  1.000000         2.0  1.000000  1.000000   
148       148.0    2.0  20.0  1.0  1.000000         2.0  2.000000  2.000000   
59         59.0    2.0  45.0  2.0  1.000000         2.0  1.000000  1.000000   
72         72.0    2.0  51.0  1.0  2.000000         2.0  1.000000  1.000000   
152       152.0    2.0  61.0  1.0  1.000000         2.0  1.000000  1.000000   
2           2.0    2.0  78.0  1.0  2.000000         2.0  1.000000  2.000000   

     Anorexia  Liver Big  ...  Spleen Palpable   Spiders   Ascites   Varices  \
72   1.000000   1.777778  ...         1.777778  1.333333  1.888889  1.888889   
147  1.000000   1.777778  ...         1.777778  1.444444  1.888889  1.777778   
106  2.000000   1.888889  ...         1.000000  1.000000  1.000000  2.000000   
147  1.000000   1.777778  ...         1.777778  1.444444  1.888889  1.777778   
92   2.000000   1.666667  ...         2.000000  2.000000  2.000000  2.000000   
31   2.000000   2.000000  ...         2.000000  2.000000  2.000000  2.000000   
6    1.000000   2.000000  ...         1.000000  1.000000  2.000000  2.000000   
118  2.000000   1.666667  ...         2.000000  1.000000  2.000000  2.000000   
47   2.000000   2.000000  ...         2.000000  2.000000  2.000000  2.000000   
80   1.000000   2.000000  ...         2.000000  2.000000  2.000000  2.000000   
72   1.000000   1.777778  ...         1.777778  1.333333  1.888889  1.888889   
147  1.000000   1.777778  ...         1.777778  1.444444  1.888889  1.777778   
154  2.000000   2.000000  ...         1.000000  1.000000  1.000000  2.000000   
0    2.000000   1.000000  ...         2.000000  2.000000  2.000000  2.000000   
83   2.000000   2.000000  ...         1.666667  1.333333  1.666667  1.777778   
72   1.000000   1.777778  ...         1.777778  1.333333  1.888889  1.888889   
49   1.000000   2.000000  ...         2.000000  1.000000  2.000000  2.000000   
56   1.777778   1.888889  ...         1.777778  1.888889  2.000000  1.888889   
83   2.000000   2.000000  ...         1.666667  1.333333  1.666667  1.777778   
56   1.777778   1.888889  ...         1.777778  1.888889  2.000000  1.888889   
147  1.000000   1.777778  ...         1.777778  1.444444  1.888889  1.777778   
41   2.000000   1.888889  ...         2.000000  1.888889  2.000000  2.000000   
98   2.000000   2.000000  ...         2.000000  1.000000  2.000000  1.000000   
72   1.000000   1.777778  ...         1.777778  1.333333  1.888889  1.888889   
38   2.000000   2.000000  ...         2.000000  2.000000  2.000000  2.000000   
40   2.000000   2.000000  ...         2.000000  2.000000  2.000000  2.000000   
147  1.000000   1.777778  ...         1.777778  1.444444  1.888889  1.777778   
83   2.000000   2.000000  ...         1.666667  1.333333  1.666667  1.777778   
120  1.000000   1.000000  ...         2.000000  1.000000  2.000000  2.000000   
83   2.000000   2.000000  ...         1.666667  1.333333  1.666667  1.777778   
56   1.777778   1.888889  ...         1.777778  1.888889  2.000000  1.888889   
133  2.000000   2.000000  ...         2.000000  2.000000  2.000000  2.000000   
31   2.000000   2.000000  ...         2.000000  2.000000  2.000000  2.000000   
130  2.000000   2.000000  ...         2.000000  2.000000  2.000000  2.000000   
1    2.000000   1.000000  ...         2.000000  2.000000  2.000000  2.000000   
56   1.777778   1.888889  ...         1.777778  1.888889  2.000000  1.888889   
2    2.000000   2.000000  ...         2.000000  2.000000  2.000000  2.000000   
13   2.000000   2.000000  ...         2.000000  2.000000  2.000000  2.000000   
147  1.000000   1.777778  ...         1.777778  1.444444  1.888889  1.777778   
148  2.000000   2.000000  ...         2.000000  2.000000  2.000000  2.000000   
147  1.000000   1.777778  ...         1.777778  1.444444  1.888889  1.777778   
56   1.777778   1.888889  ...         1.777778  1.888889  2.000000  1.888889   
141  2.000000   1.777778  ...         1.000000  2.000000  1.000000  2.000000   
153  2.000000   2.000000  ...         1.000000  1.000000  2.000000  1.000000   
56   1.777778   1.888889  ...         1.777778  1.888889  2.000000  1.888889   
115  2.000000   2.000000  ...         2.000000  2.000000  2.000000  2.000000   
104  2.000000   2.000000  ...         2.000000  2.000000  1.000000  1.000000   
56   1.777778   1.888889  ...         1.777778  1.888889  2.000000  1.888889   
110  2.000000   2.000000  ...         1.000000  2.000000  2.000000  2.000000   
107  1.000000   2.000000  ...         2.000000  2.000000  2.000000  2.000000   
3    2.000000   2.000000  ...         2.000000  2.000000  2.000000  2.000000   
147  1.000000   1.777778  ...         1.777778  1.444444  1.888889  1.777778   
148  2.000000   2.000000  ...         2.000000  2.000000  2.000000  2.000000   
59   2.000000   2.000000  ...         1.000000  2.000000  2.000000  2.000000   
72   1.000000   1.777778  ...         1.777778  1.333333  1.888889  1.888889   
152  2.000000   1.000000  ...         2.000000  1.000000  2.000000  2.000000   
2    2.000000   2.000000  ...         2.000000  2.000000  2.000000  2.000000   

     Bilirubin  Alk Phosphate        Sgot   Albumin     Protime  Histology  
72    0.900000      76.000000  271.000000  4.400000   58.111111        1.0  
147   1.700000     109.000000  528.000000  2.800000   35.000000        2.0  
106   1.500000     138.000000   58.000000  2.600000   54.111111        2.0  
147   1.700000     109.000000  528.000000  2.800000   35.000000        2.0  
92    1.000000      95.777778   60.000000  4.000000   51.888889        2.0  
31    1.000000     101.888889   60.000000  3.977778   57.555556        1.0  
6     1.000000      83.111111   80.333333  3.911111   63.222222        1.0  
118   2.122222     102.777778   97.222222  3.800000   47.777778        2.0  
47    1.800000     191.000000  420.000000  3.300000   46.000000        1.0  
80    0.800000      73.777778   14.000000  4.800000   66.888889        1.0  
72    0.900000      76.000000  271.000000  4.400000   58.111111        1.0  
147   1.700000     109.000000  528.000000  2.800000   35.000000        2.0  
154   1.200000     100.000000   19.000000  3.100000   42.000000        2.0  
0     1.000000      85.000000   18.000000  4.000000   85.666667        1.0  
83    1.500000     179.000000   69.000000  2.900000   49.444444        1.0  
72    0.900000      76.000000  271.000000  4.400000   58.111111        1.0  
49    0.700000     125.000000   65.000000  4.200000   77.000000        1.0  
56    1.111111      96.777778   49.555556  3.900000   72.000000        1.0  
83    1.500000     179.000000   69.000000  2.900000   49.444444        1.0  
56    1.111111      96.777778   49.555556  3.900000   72.000000        1.0  
147   1.700000     109.000000  528.000000  2.800000   35.000000        2.0  
41    4.600000      56.000000   16.000000  4.600000   76.333333        1.0  
98    2.000000      84.000000   23.000000  4.200000   66.000000        2.0  
72    0.900000      76.000000  271.000000  4.400000   58.111111        1.0  
38    1.000000      85.000000   14.000000  4.000000  100.000000        1.0  
40    0.700000      75.000000   55.000000  4.000000   21.000000        1.0  
147   1.700000     109.000000  528.000000  2.800000   35.000000        2.0  
83    1.500000     179.000000   69.000000  2.900000   49.444444        1.0  
120   2.900000      90.000000  153.000000  4.000000   57.666667        2.0  
83    1.500000     179.000000   69.000000  2.900000   49.444444        1.0  
56    1.111111      96.777778   49.555556  3.900000   72.000000        1.0  
133   1.000000     115.000000   52.000000  3.400000   50.000000        2.0  
31    1.000000     101.888889   60.000000  3.977778   57.555556        1.0  
130   1.000000      85.000000   30.000000  4.500000    0.000000        2.0  
1     0.900000     135.000000   42.000000  3.500000   73.222222        1.0  
56    1.111111      96.777778   49.555556  3.900000   72.000000        1.0  
2     0.700000      96.000000   32.000000  4.000000   77.777778        1.0  
13    2.200000      57.000000  144.000000  4.900000   78.000000        1.0  
147   1.700000     109.000000  528.000000  2.800000   35.000000        2.0  
148   0.900000      89.000000  152.000000  4.000000   54.000000        2.0  
147   1.700000     109.000000  528.000000  2.800000   35.000000        2.0  
56    1.111111      96.777778   49.555556  3.900000   72.000000        1.0  
141   3.900000     120.000000   28.000000  3.500000   43.000000        2.0  
153   1.500000      81.000000   19.000000  4.100000   48.000000        2.0  
56    1.111111      96.777778   49.555556  3.900000   72.000000        1.0  
115   3.200000     119.000000  136.000000  3.388889   56.000000        2.0  
104   1.700000      86.000000   20.000000  2.100000   46.000000        2.0  
56    1.111111      96.777778   49.555556  3.900000   72.000000        1.0  
110   0.700000     256.000000   25.000000  4.200000   51.666667        2.0  
107   2.300000     142.666667  648.000000  3.488889   58.444444        2.0  
3     0.700000      46.000000   52.000000  4.000000   80.000000        1.0  
147   1.700000     109.000000  528.000000  2.800000   35.000000        2.0  
148   0.900000      89.000000  152.000000  4.000000   54.000000        2.0  
59    1.000000      85.000000   75.000000  3.955556   65.777778        1.0  
72    0.900000      76.000000  271.000000  4.400000   58.111111        1.0  
152   0.800000      75.000000   20.000000  4.100000   50.777778        2.0  
2     0.700000      96.000000   32.000000  4.000000   77.777778        1.0  

[57 rows x 21 columns]
==================================== AKURASI ====================================
akurasi: 1.0
</pre></div>
</div>
</div>
</div>
<p>untuk penanganan outlier tidak kita lakukan dikarenakan data yang terindikasi outlier masih berada di rentang 1-10 (tidak melebihi interval)</p>
<p>lalu untuk akurasi pendeteksian outlier memiliki akurasi nilai 1 atau 100% yang bisa dikatakan sempurna</p>
</section>
</section>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="modelling-gaussian-naive-bayes">
<h1>Modelling Gaussian Naive Bayes<a class="headerlink" href="#modelling-gaussian-naive-bayes" title="Link to this heading">#</a></h1>
<p>Modeling merupakan proses pembuatan dan pengujian model statistik atau matematis yang digunakan untuk menggambarkan dan menganalisis pola atau hubungan dalam data. Tujuan utama dari pemodelan dalam data mining adalah untuk mengidentifikasi pola yang berguna atau prediksi yang akurat dari data yang tersedia.Untuk modelling kali ini bertujuan untuk menentukan class pada suatu data inputan .Data akan dibagi menjadi 2 tipe yaitu data test dan data train dan pemodelan kali ini menggunakan metode Gaussian Naive Bayes.</p>
<p>Kita akan menentukan class dari data yang akan kita inputan apakah termasuk class jinak atau ganas.</p>
<p>cara kalkulasi GNB dapat melalui tahap berikut:</p>
<ol class="arabic simple">
<li><p>Bagi Dataset menjadi data test dan data train</p></li>
</ol>
<p>ada dua jenis pembagian rasio dataset yang sering digunakan yaitu</p>
<ul class="simple">
<li><p>80% data train dan 20% data test</p></li>
</ul>
<ul class="simple">
<li><p>70% data train dan 30% data test</p></li>
</ul>
<p>Untuk kali ini kita akan menggunkan raiso 80% data train dan 20% data test,namun kalian bisa mengubahnya tergantung situasi dan kondisi dilapangan nantinya</p>
<ol class="arabic simple" start="2">
<li><p>Mengghitung Probabilitas pada data train setiap sheet</p></li>
</ol>
<p>lakukan perhitungan probabilitas dari masing-masing kelas sesuai dengan jumlah data train pada kelas tersebut kemudian dibagi dengan banyaknya total data train</p>
<p>ini digunakan untuk menghitung Prior</p>
<ol class="arabic simple" start="3">
<li><p>Menghitung Mean dan Standart dev</p></li>
</ol>
<img src="probabilitas.png" width="" align="" /><p>hitung mean dan standart deviasi setiap fitur pada setiap kelas di data train kita</p>
<ol class="arabic simple" start="4">
<li><p>membuat inputan</p></li>
</ol>
<p>kita akan mengambil satu data acak pada data test kita untuk inputan</p>
<ol class="arabic simple" start="5">
<li><p>menghitung Distribusi gausian</p></li>
</ol>
<p>lakukan perhitungan dengan rumus distribusi gaussian dengan rumus sebagai berikut</p>
<img src="distribusi_gaussian_2.png" width="" align="" /><ol class="arabic simple" start="6">
<li><p>hitung posterior</p></li>
</ol>
<p>Setelah didapat semua hasil dari distribusi gaussian, langkah selanjutnya adalah menentukan posteriori-nya. Berikut ini untuk rumusnya :</p>
<img src="posterior.png" width="" align="" /><p>P(A|Hi) : hasil perkalian setiap fitur pada setiap kelas</p>
<p>P(a) : probabilitas setiap kelas</p>
<p>posteriori = P(A|Hi) * P(a)</p>
<ol class="arabic simple" start="7">
<li><p>tentukan maximum posterior</p></li>
</ol>
<p>setelah kita menghitung semua posterior maka dapat kita cari mana yang terbesar</p>
<p>data posterior paling besar tersebut yang merupakan akan menjadi class dari data yang kita inputkan</p>
<p>MODEL</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">from</span> <span class="nn">sklearn.naive_bayes</span> <span class="kn">import</span> <span class="n">GaussianNB</span>
<span class="kn">from</span> <span class="nn">sklearn.model_selection</span> <span class="kn">import</span> <span class="n">train_test_split</span>
<span class="kn">from</span> <span class="nn">sklearn.metrics</span> <span class="kn">import</span> <span class="n">accuracy_score</span><span class="p">,</span> <span class="n">precision_score</span><span class="p">,</span> <span class="n">recall_score</span><span class="p">,</span> <span class="n">f1_score</span>
<span class="kn">from</span> <span class="nn">ucimlrepo</span> <span class="kn">import</span> <span class="n">fetch_ucirepo</span>

<span class="n">data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;hepatitis_knn.csv&#39;</span><span class="p">)</span>
<span class="c1"># Menghapus kolom Id, dikarenakan kurang relevan</span>
<span class="n">data</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="s2">&quot;Unnamed: 0&quot;</span><span class="p">,</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="c1"># memisahkan atribut dan label</span>
<span class="n">X</span> <span class="o">=</span> <span class="n">data</span><span class="p">[[</span><span class="s1">&#39;Age&#39;</span><span class="p">,</span> <span class="s1">&#39;Sex&#39;</span><span class="p">,</span> <span class="s1">&#39;Steroid&#39;</span><span class="p">,</span> <span class="s1">&#39;Antivirals&#39;</span><span class="p">,</span> <span class="s1">&#39;Fatigue&#39;</span><span class="p">,</span> <span class="s1">&#39;Malaise&#39;</span><span class="p">,</span>
       <span class="s1">&#39;Anorexia&#39;</span><span class="p">,</span> <span class="s1">&#39;Liver Big&#39;</span><span class="p">,</span> <span class="s1">&#39;Liver Firm&#39;</span><span class="p">,</span> <span class="s1">&#39;Spleen Palpable&#39;</span><span class="p">,</span> <span class="s1">&#39;Spiders&#39;</span><span class="p">,</span>
       <span class="s1">&#39;Ascites&#39;</span><span class="p">,</span> <span class="s1">&#39;Varices&#39;</span><span class="p">,</span> <span class="s1">&#39;Bilirubin&#39;</span><span class="p">,</span> <span class="s1">&#39;Alk Phosphate&#39;</span><span class="p">,</span> <span class="s1">&#39;Sgot&#39;</span><span class="p">,</span> <span class="s1">&#39;Albumin&#39;</span><span class="p">,</span>
       <span class="s1">&#39;Protime&#39;</span><span class="p">,</span> <span class="s1">&#39;Histology&#39;</span><span class="p">]]</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;Class&#39;</span><span class="p">]</span>
 
<span class="c1"># Membagi dataset menjadi data latih &amp; data uji</span>
<span class="n">X_train</span><span class="p">,</span> <span class="n">X_test</span><span class="p">,</span> <span class="n">y_train</span><span class="p">,</span> <span class="n">y_test</span> <span class="o">=</span> <span class="n">train_test_split</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">test_size</span><span class="o">=</span><span class="mf">0.2</span><span class="p">,</span><span class="n">random_state</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>

<span class="c1"># membuat model Gaussian naive bayes</span>
<span class="n">gnb_model</span> <span class="o">=</span> <span class="n">GaussianNB</span><span class="p">()</span>
 
<span class="c1"># Melatih model dengan menggunakan data latih</span>
<span class="n">gnb_model</span> <span class="o">=</span> <span class="n">gnb_model</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X_train</span><span class="p">,</span> <span class="n">y_train</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">y_pred</span> <span class="o">=</span> <span class="n">gnb_model</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X_test</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;=========================== X TRAINING =================================&quot;</span><span class="p">)</span> 
<span class="nb">print</span><span class="p">(</span><span class="n">X_train</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;=========================== X TESTING =================================&quot;</span><span class="p">)</span> 
<span class="nb">print</span><span class="p">(</span><span class="n">X_test</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;=========================== Y TESTING =================================&quot;</span><span class="p">)</span> 
<span class="nb">print</span><span class="p">(</span><span class="n">y_test</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>=========================== X TRAINING =================================
      Age  Sex  Steroid  Antivirals  Fatigue  Malaise  Anorexia  Liver Big  \
19   38.0  1.0      1.0         1.0      2.0      2.0       2.0        1.0   
94   59.0  1.0      1.0         2.0      1.0      1.0       2.0        2.0   
96   30.0  1.0      1.0         2.0      1.0      1.0       2.0        2.0   
22   31.0  1.0      2.0         2.0      2.0      2.0       2.0        2.0   
51   39.0  1.0      2.0         2.0      2.0      2.0       2.0        2.0   
..    ...  ...      ...         ...      ...      ...       ...        ...   
9    30.0  1.0      2.0         2.0      2.0      2.0       2.0        2.0   
103  51.0  1.0      1.0         2.0      1.0      1.0       1.0        2.0   
67   57.0  1.0      2.0         2.0      1.0      1.0       1.0        2.0   
117  50.0  1.0      2.0         2.0      2.0      2.0       2.0        2.0   
47   28.0  2.0      2.0         2.0      1.0      1.0       2.0        2.0   

     Liver Firm  Spleen Palpable  Spiders  Ascites  Varices  Bilirubin  \
19          1.0              2.0      2.0      2.0      2.0        0.7   
94          1.0              1.0      1.0      2.0      2.0        1.5   
96          1.0              2.0      1.0      2.0      2.0        0.8   
22          2.0              2.0      2.0      2.0      2.0        1.0   
51          2.0              2.0      2.0      2.0      2.0        1.0   
..          ...              ...      ...      ...      ...        ...   
9           2.0              2.0      2.0      2.0      2.0        1.0   
103         1.0              1.0      1.0      2.0      1.0        4.6   
67          2.0              2.0      1.0      1.0      2.0        4.1   
117         2.0              2.0      2.0      2.0      2.0        1.0   
47          1.0              2.0      2.0      2.0      2.0        1.8   

     Alk Phosphate   Sgot  Albumin     Protime  Histology  
19       70.000000   28.0      4.2   62.000000        1.0  
94      107.000000  157.0      3.6   38.000000        2.0  
96      147.000000  128.0      3.9  100.000000        2.0  
22       85.000000   20.0      4.0  100.000000        1.0  
51       85.000000   20.0      4.0   86.888889        1.0  
..             ...    ...      ...         ...        ...  
9       108.444444  120.0      3.9   62.111111        1.0  
103     215.000000  269.0      3.9   51.000000        2.0  
67       91.888889   48.0      2.6   73.000000        1.0  
117     139.000000   81.0      3.9   62.000000        2.0  
47      191.000000  420.0      3.3   46.000000        1.0  

[124 rows x 19 columns]
=========================== X TESTING =================================
      Age  Sex  Steroid  Antivirals   Fatigue   Malaise  Anorexia  Liver Big  \
26   49.0  1.0      1.0         1.0  1.000000  1.000000  1.000000   2.000000   
90   50.0  2.0      1.0         2.0  1.000000  2.000000  2.000000   1.000000   
152  61.0  1.0      1.0         2.0  1.000000  1.000000  2.000000   1.000000   
111  42.0  1.0      1.0         1.0  1.000000  1.000000  2.000000   2.000000   
24   25.0  2.0      1.0         1.0  2.000000  2.000000  2.000000   2.000000   
7    23.0  1.0      2.0         2.0  2.000000  2.000000  2.000000   2.000000   
44   34.0  1.0      2.0         2.0  2.000000  2.000000  2.000000   2.000000   
106  35.0  1.0      1.0         2.0  1.000000  2.000000  2.000000   1.888889   
56   34.0  1.0      1.0         2.0  1.555556  1.777778  1.777778   1.888889   
118  61.0  1.0      1.0         2.0  1.000000  1.000000  2.000000   1.666667   
89   38.0  1.0      1.0         2.0  1.000000  1.000000  1.000000   1.000000   
86   44.0  1.0      1.0         2.0  1.000000  1.000000  2.000000   2.000000   
137  38.0  1.0      2.0         2.0  2.000000  2.000000  2.000000   2.000000   
54   30.0  1.0      2.0         2.0  1.000000  2.000000  2.000000   2.000000   
110   7.0  1.0      2.0         2.0  2.000000  2.000000  2.000000   2.000000   
40   52.0  1.0      1.0         1.0  2.000000  2.000000  2.000000   2.000000   
33   26.0  2.0      1.0         2.0  2.000000  2.000000  2.000000   2.000000   
153  53.0  2.0      1.0         2.0  1.000000  2.000000  2.000000   2.000000   
71   34.0  1.0      1.0         2.0  1.000000  1.000000  2.000000   1.000000   
126  28.0  1.0      2.0         2.0  1.000000  1.000000  1.000000   1.888889   
98   47.0  1.0      2.0         2.0  2.000000  2.000000  2.000000   2.000000   
8    39.0  1.0      2.0         2.0  1.000000  2.000000  2.000000   2.000000   
138  47.0  1.0      2.0         2.0  1.000000  1.000000  2.000000   2.000000   
146  41.0  1.0      2.0         2.0  1.000000  2.000000  2.000000   2.000000   
37   20.0  2.0      1.0         2.0  1.000000  1.000000  1.000000   1.000000   
102  27.0  1.0      1.0         2.0  1.000000  2.000000  2.000000   2.000000   
141  54.0  1.0      1.0         2.0  1.000000  1.000000  2.000000   1.777778   
61   32.0  1.0      2.0         2.0  2.000000  2.000000  2.000000   2.000000   
95   40.0  1.0      1.0         1.0  1.000000  1.000000  1.000000   1.000000   
107  45.0  1.0      1.0         2.0  1.000000  1.000000  1.000000   2.000000   
16   66.0  1.0      2.0         2.0  1.000000  2.000000  2.000000   2.000000   

     Liver Firm  Spleen Palpable   Spiders  Ascites   Varices  Bilirubin  \
26     1.000000         2.000000  1.000000      2.0  2.000000   0.600000   
90     1.000000         1.000000  1.000000      2.0  2.000000   0.900000   
152    1.000000         2.000000  1.000000      2.0  2.000000   0.800000   
111    2.000000         2.000000  1.000000      2.0  2.000000   0.500000   
24     2.000000         2.000000  2.000000      2.0  2.000000   0.400000   
7      2.000000         2.000000  2.000000      2.0  2.000000   1.000000   
44     2.000000         2.000000  2.000000      2.0  2.000000   1.133333   
106    1.777778         1.000000  1.000000      1.0  2.000000   1.500000   
56     1.777778         1.777778  1.888889      2.0  1.888889   1.111111   
118    1.555556         2.000000  1.000000      2.0  2.000000   2.122222   
89     1.000000         2.000000  2.000000      2.0  2.000000   0.600000   
86     2.000000         1.000000  2.000000      2.0  1.000000   0.900000   
137    1.000000         2.000000  1.000000      2.0  1.000000   1.600000   
54     2.000000         2.000000  2.000000      2.0  2.000000   0.700000   
110    1.000000         1.000000  2.000000      2.0  2.000000   0.700000   
40     2.000000         2.000000  2.000000      2.0  2.000000   0.700000   
33     1.000000         2.000000  2.000000      2.0  2.000000   0.500000   
153    2.000000         1.000000  1.000000      2.0  1.000000   1.500000   
71     1.000000         2.000000  1.000000      2.0  2.000000   2.800000   
126    1.555556         2.000000  1.000000      1.0  2.000000   1.000000   
98     2.000000         2.000000  1.000000      2.0  1.000000   2.000000   
8      1.000000         2.000000  2.000000      2.0  2.000000   0.700000   
138    1.000000         2.000000  1.000000      1.0  1.000000   1.000000   
146    1.000000         1.000000  1.000000      2.0  1.000000   4.200000   
37     1.000000         1.000000  1.000000      2.0  2.000000   2.300000   
102    1.000000         2.000000  2.000000      2.0  2.000000   2.400000   
141    1.555556         1.000000  2.000000      1.0  2.000000   3.900000   
61     2.000000         2.000000  2.000000      2.0  2.000000   0.700000   
95     1.000000         2.000000  2.000000      2.0  2.000000   0.600000   
107    2.000000         2.000000  2.000000      2.0  2.000000   2.300000   
16     2.000000         2.000000  2.000000      2.0  2.000000   1.200000   

     Alk Phosphate        Sgot   Albumin    Protime  Histology  
26       85.000000   48.000000  3.700000  70.111111        1.0  
90      230.000000  117.000000  3.400000  41.000000        2.0  
152      75.000000   20.000000  4.100000  50.777778        2.0  
111      62.000000   68.000000  3.800000  29.000000        2.0  
24       45.000000   18.000000  4.300000  70.000000        1.0  
7        76.222222  103.222222  4.088889  69.000000        1.0  
44      105.333333   86.000000  4.122222  60.666667        1.0  
106     138.000000   58.000000  2.600000  54.111111        2.0  
56       96.777778   49.555556  3.900000  72.000000        1.0  
118     102.777778   97.222222  3.800000  47.777778        2.0  
89       76.000000   18.000000  4.400000  84.000000        2.0  
86      135.000000   55.000000  3.744444  41.000000        2.0  
137     130.000000  140.000000  3.500000  56.000000        2.0  
54       50.000000   78.000000  4.200000  74.000000        1.0  
110     256.000000   25.000000  4.200000  51.666667        2.0  
40       75.000000   55.000000  4.000000  21.000000        1.0  
33      135.000000   29.000000  3.800000  60.000000        1.0  
153      81.000000   19.000000  4.100000  48.000000        2.0  
71      127.000000  182.000000  3.677778  65.111111        1.0  
126     115.333333   20.000000  4.000000  55.555556        2.0  
98       84.000000   23.000000  4.200000  66.000000        2.0  
8        80.888889   48.000000  4.400000  73.333333        1.0  
138     166.000000   30.000000  2.600000  31.000000        2.0  
146      65.000000  120.000000  3.400000  46.555556        2.0  
37      150.000000   68.000000  3.900000  60.777778        1.0  
102     168.000000  227.000000  3.000000  66.000000        2.0  
141     120.000000   28.000000  3.500000  43.000000        2.0  
61      102.000000   64.000000  4.000000  90.000000        1.0  
95       40.000000   69.000000  4.200000  67.000000        2.0  
107     142.666667  648.000000  3.488889  58.444444        2.0  
16      102.000000   53.000000  4.300000  71.555556        1.0  
=========================== Y TESTING =================================
26     2.0
90     2.0
152    2.0
111    1.0
24     2.0
7      2.0
44     2.0
106    1.0
56     2.0
118    1.0
89     2.0
86     1.0
137    2.0
54     2.0
110    2.0
40     2.0
33     2.0
153    2.0
71     1.0
126    2.0
98     1.0
8      2.0
138    1.0
146    1.0
37     2.0
102    2.0
141    1.0
61     2.0
95     2.0
107    2.0
16     2.0
Name: Class, dtype: float64
</pre></div>
</div>
</div>
</div>
<p>jadikan kedalam csv:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>

<span class="c1"># Concatenate X_train and y_train as new column</span>
<span class="n">train_data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">X_train</span><span class="p">,</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="n">y_train</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;Class&#39;</span><span class="p">)],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

<span class="c1"># Save training data to CSV with tab-separated values</span>
<span class="n">train_data</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="s1">&#39;Train_hepatitis.csv&#39;</span><span class="p">,</span> <span class="n">sep</span><span class="o">=</span><span class="s2">&quot;</span><span class="se">\t</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>uji coba dengan menginputkan data test:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Menampilkan data yang akan digunakan</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Data yang akan digunakan adalah:&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">24</span><span class="p">])</span>

<span class="c1"># Menyiapkan data baru untuk prediksi (pastikan atribut dan urutan atribut sesuai dengan model)</span>
<span class="n">new_data</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">30</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mf">0.8</span><span class="p">,</span> <span class="mi">150</span><span class="p">,</span> <span class="mi">35</span><span class="p">,</span> <span class="mf">3.5</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">0</span><span class="p">]]</span>

<span class="c1"># Melakukan prediksi menggunakan model Gaussian Naive Bayes</span>
<span class="n">predicted_class</span> <span class="o">=</span> <span class="n">gnb_model</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">new_data</span><span class="p">)</span>

<span class="c1"># Menampilkan hasil prediksi</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Data yang diinputkan merupakan class =&quot;</span><span class="p">,</span> <span class="n">predicted_class</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Data yang akan digunakan adalah:
Unnamed: 0.1       24.0
Class               2.0
Age                25.0
Sex                 2.0
Steroid             1.0
Antivirals          1.0
Fatigue             2.0
Malaise             2.0
Anorexia            2.0
Liver Big           2.0
Liver Firm          2.0
Spleen Palpable     2.0
Spiders             2.0
Ascites             2.0
Varices             2.0
Bilirubin           0.4
Alk Phosphate      45.0
Sgot               18.0
Albumin             4.3
Protime            70.0
Histology           1.0
Name: 24, dtype: float64
Data yang diinputkan merupakan class = [2.]
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>C:\Users\endyzan\AppData\Local\Programs\Python\Python311\Lib\site-packages\sklearn\base.py:439: UserWarning: X does not have valid feature names, but GaussianNB was fitted with feature names
  warnings.warn(
</pre></div>
</div>
</div>
</div>
<p>Hasil prediksi menunjukkan data tersebut termasuk ke dalam kelas live (1). Jawabannya benar karena data yang diambil merupakan bagian dari data test yang telah dibagi pada model dan termasuk kedalam kelas live (1).</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Evaluasi Model</span>
<span class="n">accuracy</span> <span class="o">=</span> <span class="n">accuracy_score</span><span class="p">(</span><span class="n">y_test</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">)</span>
<span class="n">precision</span> <span class="o">=</span> <span class="n">precision_score</span><span class="p">(</span><span class="n">y_test</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">,</span> <span class="n">pos_label</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span> 
<span class="n">recall</span> <span class="o">=</span> <span class="n">recall_score</span><span class="p">(</span><span class="n">y_test</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">,</span> <span class="n">pos_label</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="n">fscore</span> <span class="o">=</span> <span class="n">f1_score</span><span class="p">(</span><span class="n">y_test</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">,</span> <span class="n">pos_label</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>

<span class="c1"># Menampilkan hasil evaluasi</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Akurasi: </span><span class="si">{</span><span class="n">accuracy</span><span class="si">:</span><span class="s1">.2f</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Presisi: </span><span class="si">{</span><span class="n">precision</span><span class="si">:</span><span class="s1">.2f</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Recall: </span><span class="si">{</span><span class="n">recall</span><span class="si">:</span><span class="s1">.2f</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;F-Score: </span><span class="si">{</span><span class="n">fscore</span><span class="si">:</span><span class="s1">.2f</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Akurasi: 0.77
Presisi: 0.89
Recall: 0.77
F-Score: 0.83
</pre></div>
</div>
</div>
</div>
<p>dataset hepatitis telah dilatih menggunakan model Gaussian Naive Bayes dalam memprediksi apakah seseorang penderita hepatitis memiliki peluang hidup atau mati telah memperoleh akurasi sebesar 0.77 atau 77%.</p>
<p>Dan juga untuk nilai Presisi, Recall dan F-Score yang masing-masing 0.89 atau 89%, 0.77 atau 77%, 0.83 atau 83%</p>
<p>Akurasi model tersebut dapat mencapai 77% dikarenakan telah kami lakukan pre-processing terlebih dahulu pada datasetnya. mulai dari pendeteksian missing value kemudian dilakukan imputasi missing value tersebut menggunakan mean dan KNN sampai pendeteksian outlier menggunakan Local Outlier Factor. setelah data tersebut sudah bersih dari missing value dan kolom yang tidak terpakai seperti “Class” maka dataset siap untuk digunakan pada model Gaussian Naive Bayes.</p>
<p>Referensi jiawei hen; Micheline Kamber; Jian Pei;. (n.d.). Data Mining Concepts and Techniques,halaman 364-370.</p>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="peningkatan-model">
<h1>Peningkatan Model<a class="headerlink" href="#peningkatan-model" title="Link to this heading">#</a></h1>
<p>Meskipun pada single model dengan Gaussian Naive Bayes telah mendapatkan akurasi tinggi yaitu 96%. Namun itu masih kurang efektif dikarenakan pada untuk memprediksi hanya dilakukan 1 model saja yaitu dengan model GNB. alih-alih menggunakan 1 model saja akan lebih baik apabila menggunakan banyak model dan nantinya hasil prediksi dari banyak model tersebut dijadikan data baru untuk di masukkan ke dalam meta model sebagai data baru. Untuk melakukan hal tersebut kami akan menggunakan metode ensemble.</p>
<p>Metode ensemble merupakan penggabungan beberapa individual classifier untuk membentuk classifier baru sehingga didapatkan hasil yang lebih akurat. Metode ensemble telah banyak digunakan dalam beberapa penelitian karena terbukti memberikan hasil akurasi yang lebih baik. Dalam metode ensemble, beberapa individual classifier digabungkan dengan tujuan untuk menggabungkan kelebihan dari masing-masing classifier sedemikian rupa sehingga kinerja yang dicapai dalam menyelesaikan tugas menjadi lebih baik. Contoh metode klasifikasi yang umum adalah: bagging, boosting dan stacking. Namun pada kesempatan ini kami hanya menggunakan stacking dan bagging saja untuk peningkatan model.</p>
<img src="ensemble_methods.png" width="" align="" /><section id="stacking-classifier-meta-classifier">
<h2>Stacking Classifier (Meta Classifier)<a class="headerlink" href="#stacking-classifier-meta-classifier" title="Link to this heading">#</a></h2>
<p>Stacking melibatkan penggabungan beberapa model berbeda dan menggunakan model yang lebih tinggi (meta-model) untuk menggabungkan hasil prediksi dari model-model tersebut. Stacking memungkinkan untuk memanfaatkan kekuatan berbagai jenis model.</p>
<img src="stacking.png" width="" align="" /><p>pada stacking kami akan menggunakan model KNN dengan nilai tetangga berbeda-beda sebagai base model kemudian hasil prediksi akan dimasukan ke dalam model GNB sebagai meta model (generalizer) untuk prediksi</p>
<section id="cara-kerja-stacking">
<h3>Cara kerja stacking<a class="headerlink" href="#cara-kerja-stacking" title="Link to this heading">#</a></h3>
<ol class="arabic simple">
<li><p>Base Models (Model Dasar):</p></li>
</ol>
<ul class="simple">
<li><p>Model-model dasar (base models) pertama-tama dilatih menggunakan data pelatihan.</p></li>
</ul>
<ul class="simple">
<li><p>Setelah dilatih, masing-masing model dasar menghasilkan prediksi.</p></li>
</ul>
<ul class="simple">
<li><p>Setelah itu gabungkan hasil prediksi sehingga menjadi data baru dan data tersebut akan menjadi data latih dan uji pada meta model</p></li>
</ul>
<p>model A</p>
<p>kami melatih model KNN dengan nilai K=13</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># ----------------------------KNN 1 -------------------------------------------</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">from</span> <span class="nn">sklearn.neighbors</span> <span class="kn">import</span> <span class="n">KNeighborsClassifier</span>
<span class="kn">from</span> <span class="nn">sklearn.metrics</span> <span class="kn">import</span> <span class="n">confusion_matrix</span><span class="p">,</span> <span class="n">accuracy_score</span>
<span class="kn">from</span> <span class="nn">sklearn.model_selection</span> <span class="kn">import</span> <span class="n">cross_val_score</span>
<span class="kn">from</span> <span class="nn">sklearn.model_selection</span> <span class="kn">import</span> <span class="n">train_test_split</span>
<span class="kn">from</span> <span class="nn">sklearn.preprocessing</span> <span class="kn">import</span> <span class="n">LabelEncoder</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="nn">sns</span>
<span class="o">%</span><span class="k">matplotlib</span> inline

<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;hepatitis_knn.csv&#39;</span><span class="p">)</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">drop</span><span class="p">([</span><span class="s1">&#39;Unnamed: 0&#39;</span><span class="p">],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

<span class="c1"># Memisahkan fitur dan label</span>
<span class="n">feature_columns</span> <span class="o">=</span><span class="p">[</span><span class="s1">&#39;Age&#39;</span><span class="p">,</span> <span class="s1">&#39;Sex&#39;</span><span class="p">,</span> <span class="s1">&#39;Steroid&#39;</span><span class="p">,</span> <span class="s1">&#39;Antivirals&#39;</span><span class="p">,</span> <span class="s1">&#39;Fatigue&#39;</span><span class="p">,</span> <span class="s1">&#39;Malaise&#39;</span><span class="p">,</span>
       <span class="s1">&#39;Anorexia&#39;</span><span class="p">,</span> <span class="s1">&#39;Liver Big&#39;</span><span class="p">,</span> <span class="s1">&#39;Liver Firm&#39;</span><span class="p">,</span> <span class="s1">&#39;Spleen Palpable&#39;</span><span class="p">,</span> <span class="s1">&#39;Spiders&#39;</span><span class="p">,</span>
       <span class="s1">&#39;Ascites&#39;</span><span class="p">,</span> <span class="s1">&#39;Varices&#39;</span><span class="p">,</span> <span class="s1">&#39;Bilirubin&#39;</span><span class="p">,</span> <span class="s1">&#39;Alk Phosphate&#39;</span><span class="p">,</span> <span class="s1">&#39;Sgot&#39;</span><span class="p">,</span> <span class="s1">&#39;Albumin&#39;</span><span class="p">,</span>
       <span class="s1">&#39;Protime&#39;</span><span class="p">,</span> <span class="s1">&#39;Histology&#39;</span><span class="p">]</span>
<span class="n">X</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">feature_columns</span><span class="p">]</span><span class="o">.</span><span class="n">values</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;Class&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">values</span>

<span class="c1"># Membagi data menjadi data latih dan data uji</span>
<span class="n">X_train</span><span class="p">,</span> <span class="n">X_test</span><span class="p">,</span> <span class="n">y_train</span><span class="p">,</span> <span class="n">y_test</span> <span class="o">=</span> <span class="n">train_test_split</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">test_size</span><span class="o">=</span><span class="mf">0.2</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>

<span class="n">classifier</span> <span class="o">=</span> <span class="n">KNeighborsClassifier</span><span class="p">(</span><span class="n">n_neighbors</span><span class="o">=</span><span class="mi">13</span><span class="p">)</span>

<span class="c1"># TRAIN</span>
<span class="n">classifier</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X_train</span><span class="p">,</span> <span class="n">y_train</span><span class="p">)</span>

<span class="c1"># Memprediksi data uji</span>
<span class="n">xtr1</span> <span class="o">=</span> <span class="n">classifier</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X_train</span><span class="p">)</span>

<span class="c1"># TEST</span>
<span class="n">classifier</span> <span class="o">=</span> <span class="n">KNeighborsClassifier</span><span class="p">(</span><span class="n">n_neighbors</span><span class="o">=</span><span class="mi">13</span><span class="p">)</span>

<span class="c1"># Melatih model</span>
<span class="n">classifier</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X_test</span><span class="p">,</span> <span class="n">y_test</span><span class="p">)</span>

<span class="n">x_baru</span><span class="o">=</span><span class="p">[[</span><span class="mi">30</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mf">0.8</span><span class="p">,</span> <span class="mi">150</span><span class="p">,</span> <span class="mi">35</span><span class="p">,</span> <span class="mf">3.5</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">0</span><span class="p">]]</span>

<span class="c1"># Memprediksi data uji</span>
<span class="n">xts1</span> <span class="o">=</span> <span class="n">classifier</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X_test</span><span class="p">)</span>
<span class="n">xtst_baru</span><span class="o">=</span><span class="n">classifier</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">x_baru</span><span class="p">)</span>
<span class="nb">print</span> <span class="p">(</span><span class="s2">&quot;prediksi untuk data baru: &quot;</span><span class="p">,</span> <span class="n">xtst_baru</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>prediksi untuk data baru:  [2.]
</pre></div>
</div>
</div>
</div>
<p>Model B</p>
<p>kami melatih model KNN dengan nilai K=9</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># ---------------------KNN 2--------------------------</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">from</span> <span class="nn">sklearn.neighbors</span> <span class="kn">import</span> <span class="n">KNeighborsClassifier</span>
<span class="kn">from</span> <span class="nn">sklearn.metrics</span> <span class="kn">import</span> <span class="n">confusion_matrix</span><span class="p">,</span> <span class="n">accuracy_score</span>
<span class="kn">from</span> <span class="nn">sklearn.model_selection</span> <span class="kn">import</span> <span class="n">cross_val_score</span>
<span class="kn">from</span> <span class="nn">sklearn.model_selection</span> <span class="kn">import</span> <span class="n">train_test_split</span>
<span class="kn">from</span> <span class="nn">sklearn.preprocessing</span> <span class="kn">import</span> <span class="n">LabelEncoder</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="nn">sns</span>
<span class="o">%</span><span class="k">matplotlib</span> inline

<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;hepatitis_knn.csv&#39;</span><span class="p">)</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">drop</span><span class="p">([</span><span class="s1">&#39;Unnamed: 0&#39;</span><span class="p">],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

<span class="c1"># Memisahkan fitur dan label</span>
<span class="n">feature_columns</span> <span class="o">=</span><span class="p">[</span><span class="s1">&#39;Age&#39;</span><span class="p">,</span> <span class="s1">&#39;Sex&#39;</span><span class="p">,</span> <span class="s1">&#39;Steroid&#39;</span><span class="p">,</span> <span class="s1">&#39;Antivirals&#39;</span><span class="p">,</span> <span class="s1">&#39;Fatigue&#39;</span><span class="p">,</span> <span class="s1">&#39;Malaise&#39;</span><span class="p">,</span>
       <span class="s1">&#39;Anorexia&#39;</span><span class="p">,</span> <span class="s1">&#39;Liver Big&#39;</span><span class="p">,</span> <span class="s1">&#39;Liver Firm&#39;</span><span class="p">,</span> <span class="s1">&#39;Spleen Palpable&#39;</span><span class="p">,</span> <span class="s1">&#39;Spiders&#39;</span><span class="p">,</span>
       <span class="s1">&#39;Ascites&#39;</span><span class="p">,</span> <span class="s1">&#39;Varices&#39;</span><span class="p">,</span> <span class="s1">&#39;Bilirubin&#39;</span><span class="p">,</span> <span class="s1">&#39;Alk Phosphate&#39;</span><span class="p">,</span> <span class="s1">&#39;Sgot&#39;</span><span class="p">,</span> <span class="s1">&#39;Albumin&#39;</span><span class="p">,</span>
       <span class="s1">&#39;Protime&#39;</span><span class="p">,</span> <span class="s1">&#39;Histology&#39;</span><span class="p">]</span>
<span class="n">X</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">feature_columns</span><span class="p">]</span><span class="o">.</span><span class="n">values</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;Class&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">values</span>

<span class="c1"># Membagi data menjadi data latih dan data uji</span>
<span class="n">X_train</span><span class="p">,</span> <span class="n">X_test</span><span class="p">,</span> <span class="n">y_train</span><span class="p">,</span> <span class="n">y_test</span> <span class="o">=</span> <span class="n">train_test_split</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">test_size</span><span class="o">=</span><span class="mf">0.2</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>

<span class="n">classifier2</span> <span class="o">=</span> <span class="n">KNeighborsClassifier</span><span class="p">(</span><span class="n">n_neighbors</span><span class="o">=</span><span class="mi">9</span><span class="p">)</span>

<span class="c1"># TRAIN</span>
<span class="n">classifier2</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X_train</span><span class="p">,</span> <span class="n">y_train</span><span class="p">)</span>

<span class="c1"># Memprediksi data uji</span>
<span class="n">xtr2</span> <span class="o">=</span> <span class="n">classifier2</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X_train</span><span class="p">)</span>

<span class="c1"># TEST</span>
<span class="n">classifier2</span> <span class="o">=</span> <span class="n">KNeighborsClassifier</span><span class="p">(</span><span class="n">n_neighbors</span><span class="o">=</span><span class="mi">9</span><span class="p">)</span>

<span class="c1"># Melatih model</span>
<span class="n">classifier2</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X_test</span><span class="p">,</span> <span class="n">y_test</span><span class="p">)</span>
<span class="n">x_baru</span><span class="o">=</span><span class="p">[[</span><span class="mi">30</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mf">0.8</span><span class="p">,</span> <span class="mi">150</span><span class="p">,</span> <span class="mi">35</span><span class="p">,</span> <span class="mf">3.5</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">0</span><span class="p">]]</span>

<span class="c1"># Memprediksi data uji</span>
<span class="n">xts2</span> <span class="o">=</span> <span class="n">classifier2</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X_test</span><span class="p">)</span>
<span class="n">xtst2_baru</span><span class="o">=</span><span class="n">classifier2</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">x_baru</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">xtst2_baru</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[2.]
</pre></div>
</div>
</div>
</div>
<p>Setelah itu, gabungkan hasil prediksi dari kedua model menjadi sebuah dataset baru</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># MODEL A</span>
<span class="n">combined_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span>
    <span class="s1">&#39;X1&#39;</span><span class="p">:</span> <span class="n">xtr1</span><span class="p">,</span>
    <span class="s1">&#39;X2&#39;</span><span class="p">:</span> <span class="n">xtr2</span><span class="p">,</span>
    <span class="s1">&#39;Y&#39;</span><span class="p">:</span> <span class="n">y_train</span>
<span class="p">})</span>

<span class="c1"># Save the DataFrame to a CSV file</span>
<span class="n">combined_df</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="s1">&#39;combine_train.csv&#39;</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;combine_train.csv&#39;</span><span class="p">)</span>
<span class="n">df</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>X1</th>
      <th>X2</th>
      <th>Y</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>2.0</td>
      <td>2.0</td>
      <td>2.0</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2.0</td>
      <td>2.0</td>
      <td>1.0</td>
    </tr>
    <tr>
      <th>2</th>
      <td>2.0</td>
      <td>2.0</td>
      <td>2.0</td>
    </tr>
    <tr>
      <th>3</th>
      <td>2.0</td>
      <td>2.0</td>
      <td>2.0</td>
    </tr>
    <tr>
      <th>4</th>
      <td>2.0</td>
      <td>2.0</td>
      <td>2.0</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># MODEL B</span>
<span class="n">combined_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span>
    <span class="s1">&#39;X1&#39;</span><span class="p">:</span> <span class="n">xts1</span><span class="p">,</span>
    <span class="s1">&#39;X2&#39;</span><span class="p">:</span> <span class="n">xts2</span><span class="p">,</span>
    <span class="s1">&#39;Y&#39;</span><span class="p">:</span> <span class="n">y_test</span>
<span class="p">})</span>

<span class="c1"># Save the DataFrame to a CSV file</span>
<span class="n">combined_df</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="s1">&#39;combine_test.csv&#39;</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df2</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;combine_test.csv&#39;</span><span class="p">)</span>
<span class="n">df2</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>X1</th>
      <th>X2</th>
      <th>Y</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>2.0</td>
      <td>2.0</td>
      <td>2.0</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2.0</td>
      <td>1.0</td>
      <td>2.0</td>
    </tr>
    <tr>
      <th>2</th>
      <td>2.0</td>
      <td>2.0</td>
      <td>2.0</td>
    </tr>
    <tr>
      <th>3</th>
      <td>2.0</td>
      <td>2.0</td>
      <td>1.0</td>
    </tr>
    <tr>
      <th>4</th>
      <td>2.0</td>
      <td>2.0</td>
      <td>2.0</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<ol class="arabic simple" start="2">
<li><p>Generalizer (Meta-Model):</p></li>
</ol>
<ul class="simple">
<li><p>Prediksi dari model-model dasar ini kemudian digunakan sebagai fitur (input) untuk melatih model baru yang disebut generalizer atau meta-model.</p></li>
</ul>
<ul class="simple">
<li><p>Generalizer ini akan belajar dari kombinasi prediksi-prediksi model dasar untuk membuat keputusan akhir yang lebih baik.</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># GNB</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">from</span> <span class="nn">sklearn.naive_bayes</span> <span class="kn">import</span> <span class="n">GaussianNB</span>
<span class="kn">from</span> <span class="nn">sklearn.model_selection</span> <span class="kn">import</span> <span class="n">train_test_split</span>
<span class="kn">from</span> <span class="nn">sklearn.metrics</span> <span class="kn">import</span> <span class="n">accuracy_score</span><span class="p">,</span> <span class="n">precision_score</span><span class="p">,</span> <span class="n">recall_score</span><span class="p">,</span> <span class="n">f1_score</span><span class="p">,</span> <span class="n">classification_report</span>

<span class="c1"># Menggabungkan prediksi dari kedua model KNN sebagai fitur baru</span>
<span class="n">f_meta</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">column_stack</span><span class="p">((</span><span class="n">xtr1</span><span class="p">,</span> <span class="n">xtr2</span><span class="p">))</span>
<span class="n">X_test</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">column_stack</span><span class="p">((</span><span class="n">xts1</span><span class="p">,</span> <span class="n">xts2</span><span class="p">))</span>

<span class="c1"># Inisialisasi dan pelatihan meta-classifier Naive Bayes</span>
<span class="n">meta_classifier</span> <span class="o">=</span> <span class="n">GaussianNB</span><span class="p">()</span>
<span class="n">meta_classifier</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">f_meta</span><span class="p">,</span> <span class="n">y_train</span><span class="p">)</span>
<span class="n">predict</span> <span class="o">=</span> <span class="n">meta_classifier</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X_test</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">classification_report</span><span class="p">(</span><span class="n">predict</span><span class="p">,</span> <span class="n">y_test</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">meta_classifier</span><span class="o">.</span><span class="n">predict</span><span class="p">([[</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">]]))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>              precision    recall  f1-score   support

         1.0       1.00      0.32      0.49        28
         2.0       0.14      1.00      0.24         3

    accuracy                           0.39        31
   macro avg       0.57      0.66      0.36        31
weighted avg       0.92      0.39      0.46        31

[1.]
</pre></div>
</div>
</div>
</div>
<p>model dengan input [2, 2] diprediksi sebagai kelas 1</p>
<p>Implementasi stacking dengan scikit-learn</p>
<p>setelah kita mengetahui proses dari stacking classifier untuk meningkatkan model secara manual, berikutnya kami akan menggunakan bantuan library untuk membantu melatih model dasar, karena kami tidak mungkin melatih model dasar satu persatu, karena kami akan menggunakan 20 model knn sebagai model dasar dengan pembeda adalah nilai K. Dan nantinya prediksi 20 model tersebut akan dimasukkan ke dalam model gaussian naive bayes.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">from</span> <span class="nn">sklearn.preprocessing</span> <span class="kn">import</span> <span class="n">StandardScaler</span>
<span class="kn">from</span> <span class="nn">sklearn.pipeline</span> <span class="kn">import</span> <span class="n">make_pipeline</span>
<span class="kn">from</span> <span class="nn">sklearn.ensemble</span> <span class="kn">import</span> <span class="n">StackingClassifier</span>
<span class="kn">from</span> <span class="nn">sklearn.neighbors</span> <span class="kn">import</span> <span class="n">KNeighborsClassifier</span>
<span class="kn">from</span> <span class="nn">sklearn.metrics</span> <span class="kn">import</span> <span class="n">confusion_matrix</span><span class="p">,</span> <span class="n">accuracy_score</span><span class="p">,</span> <span class="n">classification_report</span>
<span class="kn">from</span> <span class="nn">sklearn.model_selection</span> <span class="kn">import</span> <span class="n">train_test_split</span>
<span class="kn">from</span> <span class="nn">sklearn.naive_bayes</span> <span class="kn">import</span> <span class="n">GaussianNB</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>

<span class="c1"># Load dataset</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;hepatitis_knn.csv&#39;</span><span class="p">)</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">drop</span><span class="p">([</span><span class="s1">&#39;Unnamed: 0&#39;</span><span class="p">],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

<span class="c1"># Separate features and labels</span>
<span class="n">feature_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Age&#39;</span><span class="p">,</span> <span class="s1">&#39;Sex&#39;</span><span class="p">,</span> <span class="s1">&#39;Steroid&#39;</span><span class="p">,</span> <span class="s1">&#39;Antivirals&#39;</span><span class="p">,</span> <span class="s1">&#39;Fatigue&#39;</span><span class="p">,</span> <span class="s1">&#39;Malaise&#39;</span><span class="p">,</span>
       <span class="s1">&#39;Anorexia&#39;</span><span class="p">,</span> <span class="s1">&#39;Liver Big&#39;</span><span class="p">,</span> <span class="s1">&#39;Liver Firm&#39;</span><span class="p">,</span> <span class="s1">&#39;Spleen Palpable&#39;</span><span class="p">,</span> <span class="s1">&#39;Spiders&#39;</span><span class="p">,</span>
       <span class="s1">&#39;Ascites&#39;</span><span class="p">,</span> <span class="s1">&#39;Varices&#39;</span><span class="p">,</span> <span class="s1">&#39;Bilirubin&#39;</span><span class="p">,</span> <span class="s1">&#39;Alk Phosphate&#39;</span><span class="p">,</span> <span class="s1">&#39;Sgot&#39;</span><span class="p">,</span> <span class="s1">&#39;Albumin&#39;</span><span class="p">,</span>
       <span class="s1">&#39;Protime&#39;</span><span class="p">,</span> <span class="s1">&#39;Histology&#39;</span><span class="p">]</span>
<span class="n">X</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">feature_columns</span><span class="p">]</span><span class="o">.</span><span class="n">values</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;Class&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">values</span>

<span class="c1"># Split data into training and testing sets</span>
<span class="n">X_train</span><span class="p">,</span> <span class="n">X_test</span><span class="p">,</span> <span class="n">y_train</span><span class="p">,</span> <span class="n">y_test</span> <span class="o">=</span> <span class="n">train_test_split</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">test_size</span><span class="o">=</span><span class="mf">0.2</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>

<span class="c1"># Create list of estimators for StackingClassifier</span>
<span class="n">estimators</span> <span class="o">=</span> <span class="p">[(</span><span class="s1">&#39;knn&#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">i</span> <span class="o">//</span> <span class="mi">3</span><span class="p">),</span> <span class="n">KNeighborsClassifier</span><span class="p">(</span><span class="n">n_neighbors</span><span class="o">=</span><span class="n">i</span><span class="p">))</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">63</span><span class="p">,</span> <span class="mi">3</span><span class="p">)]</span>

<span class="c1"># Initialize StackingClassifier with GaussianNB as final estimator</span>
<span class="n">clf</span> <span class="o">=</span> <span class="n">StackingClassifier</span><span class="p">(</span>
    <span class="n">estimators</span><span class="o">=</span><span class="n">estimators</span><span class="p">,</span> <span class="n">final_estimator</span><span class="o">=</span><span class="n">GaussianNB</span><span class="p">()</span>
<span class="p">)</span>

<span class="c1"># Train StackingClassifier</span>
<span class="n">clf</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X_train</span><span class="p">,</span> <span class="n">y_train</span><span class="p">)</span>

<span class="c1"># Evaluate accuracy for each KNN model and store the results</span>
<span class="n">accuracies</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">estimator</span> <span class="ow">in</span> <span class="n">estimators</span><span class="p">:</span>
    <span class="n">estimator</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X_train</span><span class="p">,</span> <span class="n">y_train</span><span class="p">)</span>
    <span class="n">y_pred</span> <span class="o">=</span> <span class="n">estimator</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X_test</span><span class="p">)</span>
    <span class="n">accuracy</span> <span class="o">=</span> <span class="n">accuracy_score</span><span class="p">(</span><span class="n">y_test</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Accuracy of </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">accuracy</span><span class="si">:</span><span class="s2">.4f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="n">accuracies</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">accuracy</span><span class="p">)</span>

<span class="c1"># Plotting the accuracy of each KNN model</span>
<span class="n">model_names</span> <span class="o">=</span> <span class="p">[</span><span class="n">name</span> <span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">_</span> <span class="ow">in</span> <span class="n">estimators</span><span class="p">]</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span><span class="n">model_names</span><span class="p">,</span> <span class="n">accuracies</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;skyblue&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Model&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Accuracy&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Accuracy of Each KNN Model on Test Data&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="n">rotation</span><span class="o">=</span><span class="mi">90</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

<span class="c1"># Evaluate predictions for new data point by each KNN model</span>
<span class="n">X_new</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">30</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mf">0.8</span><span class="p">,</span> <span class="mi">150</span><span class="p">,</span> <span class="mi">35</span><span class="p">,</span> <span class="mf">3.5</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">0</span><span class="p">]]</span>
<span class="n">predictions</span> <span class="o">=</span> <span class="p">{}</span>
<span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">estimator</span> <span class="ow">in</span> <span class="n">estimators</span><span class="p">:</span>
    <span class="n">pred</span> <span class="o">=</span> <span class="n">estimator</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X_new</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">predictions</span><span class="p">[</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">pred</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Prediction of </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">pred</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="c1"># Counting predictions for each class</span>
<span class="n">count_class_1</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="mi">1</span> <span class="k">for</span> <span class="n">pred</span> <span class="ow">in</span> <span class="n">predictions</span><span class="o">.</span><span class="n">values</span><span class="p">()</span> <span class="k">if</span> <span class="n">pred</span> <span class="o">==</span> <span class="mi">1</span><span class="p">)</span>
<span class="n">count_class_2</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="mi">1</span> <span class="k">for</span> <span class="n">pred</span> <span class="ow">in</span> <span class="n">predictions</span><span class="o">.</span><span class="n">values</span><span class="p">()</span> <span class="k">if</span> <span class="n">pred</span> <span class="o">==</span> <span class="mi">2</span><span class="p">)</span>

<span class="c1"># Plotting the number of predictions for each class</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">4</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">bar</span><span class="p">([</span><span class="s1">&#39;Class 1&#39;</span><span class="p">,</span> <span class="s1">&#39;Class 2&#39;</span><span class="p">],</span> <span class="p">[</span><span class="n">count_class_1</span><span class="p">,</span> <span class="n">count_class_2</span><span class="p">],</span> <span class="n">color</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;lightgreen&#39;</span><span class="p">,</span> <span class="s1">&#39;salmon&#39;</span><span class="p">])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Class&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Number of Predictions&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Number of Predictions for Each Class by KNN Models&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

<span class="c1"># Predict for new data using StackingClassifier</span>
<span class="n">prediction</span> <span class="o">=</span> <span class="n">clf</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X_new</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">Prediction for X_new: </span><span class="si">{</span><span class="n">prediction</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>

<span class="c1"># Evaluate overall performance of the stacking classifier</span>
<span class="n">avg_acc</span> <span class="o">=</span> <span class="n">clf</span><span class="o">.</span><span class="n">score</span><span class="p">(</span><span class="n">X_test</span><span class="p">,</span> <span class="n">y_test</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">Overall Stacking Classifier Performance:&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Accuracy: </span><span class="si">{</span><span class="n">avg_acc</span><span class="si">:</span><span class="s1">.4f</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>

<span class="c1"># Obtain predictions from the model</span>
<span class="n">y_pred</span> <span class="o">=</span> <span class="n">clf</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X_test</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Accuracy of knn1: 0.6774
Accuracy of knn2: 0.7742
Accuracy of knn3: 0.7419
Accuracy of knn4: 0.7097
Accuracy of knn5: 0.7097
Accuracy of knn6: 0.7097
Accuracy of knn7: 0.7097
Accuracy of knn8: 0.7097
Accuracy of knn9: 0.7097
Accuracy of knn10: 0.7097
Accuracy of knn11: 0.7097
Accuracy of knn12: 0.7097
Accuracy of knn13: 0.7097
Accuracy of knn14: 0.7097
Accuracy of knn15: 0.7097
Accuracy of knn16: 0.7097
Accuracy of knn17: 0.7097
Accuracy of knn18: 0.7097
Accuracy of knn19: 0.7097
Accuracy of knn20: 0.7097
</pre></div>
</div>
<img alt="_images/cb3c335d1c5ae2cef401af5b28e32e5eba8e8e8d31c7d55a70ef8e4ed81f5fe8.png" src="_images/cb3c335d1c5ae2cef401af5b28e32e5eba8e8e8d31c7d55a70ef8e4ed81f5fe8.png" />
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Prediction of knn1: 2.0
Prediction of knn2: 2.0
Prediction of knn3: 2.0
Prediction of knn4: 2.0
Prediction of knn5: 2.0
Prediction of knn6: 2.0
Prediction of knn7: 2.0
Prediction of knn8: 2.0
Prediction of knn9: 2.0
Prediction of knn10: 2.0
Prediction of knn11: 2.0
Prediction of knn12: 2.0
Prediction of knn13: 2.0
Prediction of knn14: 2.0
Prediction of knn15: 2.0
Prediction of knn16: 2.0
Prediction of knn17: 2.0
Prediction of knn18: 2.0
Prediction of knn19: 2.0
Prediction of knn20: 2.0
</pre></div>
</div>
<img alt="_images/8027f4ce9bc74c74bd36f3cf1381d6a83b0dc7dd59e842ef8c8988cd09ac217c.png" src="_images/8027f4ce9bc74c74bd36f3cf1381d6a83b0dc7dd59e842ef8c8988cd09ac217c.png" />
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Prediction for X_new: 1.0

Overall Stacking Classifier Performance:
Accuracy: 0.5806
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="bagging-bootstrap-aggregating">
<h2>Bagging (Bootstrap Aggregating)<a class="headerlink" href="#bagging-bootstrap-aggregating" title="Link to this heading">#</a></h2>
<p>Bagging melibatkan pembuatan beberapa subset dari data pelatihan dengan penggantian (bootstrap) dan melatih model yang berbeda pada setiap subset. Kemudian, hasil prediksi dari model-model ini diambil rata-rata (untuk regresi) atau diambil mayoritas (untuk klasifikasi).</p>
<img src="bagging.png" width="" align="" /><p>Metode bagging bertujuan untuk mengatasi variasi dan overfitting dalam model-machine learning. Bagging melibatkan langkah-langkah berikut:</p>
<ol class="arabic simple">
<li><p>Mengambil dataset pelatihan awal yang dimiliki.</p></li>
</ol>
<ol class="arabic simple" start="2">
<li><p>Membuat beberapa set data pelatihan yang berbeda dengan cara mengambil sampel secara acak dari dataset awal. Setiap set data ini mungkin memiliki beberapa data yang sama dan beberapa yang berbeda.</p></li>
</ol>
<ol class="arabic simple" start="3">
<li><p>Model yang sama (classifier) diterapkan pada setiap set data pelatihan ini dan menghasilkan prediksi masing-masing.</p></li>
</ol>
<ol class="arabic simple" start="4">
<li><p>Hasil prediksi dari semua classifier digabungkan.</p></li>
</ol>
<p>Metode bagging membantu mengurangi variabilitas dalam prediksi karena setiap set data pelatihan memiliki variasi yang berbeda. Variasi ini membuat model lebih stabil dan lebih baik kinerjanya daripada hanya menggunakan satu set data pelatihan saja.</p>
<p>pada bagging kami menggunakan 20 gaussian naive bayes yang menerima subset berbeda satu sama lain</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">from</span> <span class="nn">sklearn.naive_bayes</span> <span class="kn">import</span> <span class="n">GaussianNB</span>
<span class="kn">from</span> <span class="nn">sklearn.model_selection</span> <span class="kn">import</span> <span class="n">train_test_split</span>
<span class="kn">from</span> <span class="nn">sklearn.metrics</span> <span class="kn">import</span> <span class="n">accuracy_score</span><span class="p">,</span> <span class="n">classification_report</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">pickle</span>

<span class="c1"># Memuat data</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;hepatitis_knn.csv&#39;</span><span class="p">)</span>

<span class="c1"># Menghapus kolom yang tidak relevan</span>
<span class="n">data</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="s2">&quot;Unnamed: 0&quot;</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="c1"># Memisahkan atribut dan label</span>
<span class="n">X</span> <span class="o">=</span> <span class="n">data</span><span class="p">[[</span><span class="s1">&#39;Age&#39;</span><span class="p">,</span> <span class="s1">&#39;Sex&#39;</span><span class="p">,</span> <span class="s1">&#39;Steroid&#39;</span><span class="p">,</span> <span class="s1">&#39;Antivirals&#39;</span><span class="p">,</span> <span class="s1">&#39;Fatigue&#39;</span><span class="p">,</span> <span class="s1">&#39;Malaise&#39;</span><span class="p">,</span>
       <span class="s1">&#39;Anorexia&#39;</span><span class="p">,</span> <span class="s1">&#39;Liver Big&#39;</span><span class="p">,</span> <span class="s1">&#39;Liver Firm&#39;</span><span class="p">,</span> <span class="s1">&#39;Spleen Palpable&#39;</span><span class="p">,</span> <span class="s1">&#39;Spiders&#39;</span><span class="p">,</span>
       <span class="s1">&#39;Ascites&#39;</span><span class="p">,</span> <span class="s1">&#39;Varices&#39;</span><span class="p">,</span> <span class="s1">&#39;Bilirubin&#39;</span><span class="p">,</span> <span class="s1">&#39;Alk Phosphate&#39;</span><span class="p">,</span> <span class="s1">&#39;Sgot&#39;</span><span class="p">,</span> <span class="s1">&#39;Albumin&#39;</span><span class="p">,</span>
       <span class="s1">&#39;Protime&#39;</span><span class="p">,</span> <span class="s1">&#39;Histology&#39;</span><span class="p">]]</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;Class&#39;</span><span class="p">]</span>

<span class="c1"># Membagi dataset menjadi data latih dan data uji</span>
<span class="n">X_train</span><span class="p">,</span> <span class="n">X_test</span><span class="p">,</span> <span class="n">y_train</span><span class="p">,</span> <span class="n">y_test</span> <span class="o">=</span> <span class="n">train_test_split</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">test_size</span><span class="o">=</span><span class="mf">0.2</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">42</span><span class="p">)</span>

<span class="c1"># Parameter bagging</span>
<span class="n">n_estimators</span> <span class="o">=</span> <span class="mi">20</span>
<span class="n">n_samples</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">X_train</span><span class="p">)</span> <span class="o">/</span> <span class="n">n_estimators</span><span class="p">)</span>

<span class="c1"># Inisialisasi list untuk menyimpan model dan akurasi</span>
<span class="n">estimators</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">accuracies</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">pred</span> <span class="o">=</span> <span class="p">[]</span>

<span class="c1"># Data baru yang ingin diprediksi</span>
<span class="n">X_new</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">([[</span><span class="mi">40</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mf">0.8</span><span class="p">,</span> <span class="mi">150</span><span class="p">,</span> <span class="mi">35</span><span class="p">,</span> <span class="mf">3.5</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">0</span><span class="p">]],</span> <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Age&#39;</span><span class="p">,</span> <span class="s1">&#39;Sex&#39;</span><span class="p">,</span> <span class="s1">&#39;Steroid&#39;</span><span class="p">,</span> <span class="s1">&#39;Antivirals&#39;</span><span class="p">,</span> <span class="s1">&#39;Fatigue&#39;</span><span class="p">,</span> <span class="s1">&#39;Malaise&#39;</span><span class="p">,</span>
       <span class="s1">&#39;Anorexia&#39;</span><span class="p">,</span> <span class="s1">&#39;Liver Big&#39;</span><span class="p">,</span> <span class="s1">&#39;Liver Firm&#39;</span><span class="p">,</span> <span class="s1">&#39;Spleen Palpable&#39;</span><span class="p">,</span> <span class="s1">&#39;Spiders&#39;</span><span class="p">,</span>
       <span class="s1">&#39;Ascites&#39;</span><span class="p">,</span> <span class="s1">&#39;Varices&#39;</span><span class="p">,</span> <span class="s1">&#39;Bilirubin&#39;</span><span class="p">,</span> <span class="s1">&#39;Alk Phosphate&#39;</span><span class="p">,</span> <span class="s1">&#39;Sgot&#39;</span><span class="p">,</span> <span class="s1">&#39;Albumin&#39;</span><span class="p">,</span>
       <span class="s1">&#39;Protime&#39;</span><span class="p">,</span> <span class="s1">&#39;Histology&#39;</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Data baru yang akan diprediksi&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">X_new</span><span class="p">)</span>
<span class="nb">print</span><span class="p">()</span>
<span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">seed</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>

<span class="c1"># Membuat model Gaussian Naive Bayes untuk setiap subset</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n_estimators</span><span class="p">):</span>
    <span class="c1"># Membuat bootstrap sample</span>
    <span class="n">bootstrap_indices</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">X_train</span><span class="p">),</span> <span class="n">n_samples</span><span class="p">)</span>
    <span class="n">X_train_bootstrap</span> <span class="o">=</span> <span class="n">X_train</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">bootstrap_indices</span><span class="p">]</span>
    <span class="n">y_train_bootstrap</span> <span class="o">=</span> <span class="n">y_train</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">bootstrap_indices</span><span class="p">]</span>
    
    <span class="c1"># Melatih model</span>
    <span class="n">gnb_model</span> <span class="o">=</span> <span class="n">GaussianNB</span><span class="p">()</span>
    <span class="n">gnb_model</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X_train_bootstrap</span><span class="p">,</span> <span class="n">y_train_bootstrap</span><span class="p">)</span>
    <span class="n">estimators</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">gnb_model</span><span class="p">)</span>
    
    <span class="c1"># Evaluasi model    </span>
    <span class="n">bebas</span> <span class="o">=</span> <span class="n">gnb_model</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X_new</span><span class="p">)</span>
    <span class="n">pred</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">bebas</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>  <span class="c1"># Mengambil nilai prediksi dan menyimpannya di list pred</span>
    <span class="n">y_pred</span> <span class="o">=</span> <span class="n">gnb_model</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X_test</span><span class="p">)</span>
    <span class="n">accuracy</span> <span class="o">=</span> <span class="n">accuracy_score</span><span class="p">(</span><span class="n">y_test</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">)</span>
    <span class="n">accuracies</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">accuracy</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Estimator </span><span class="si">{</span><span class="n">i</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="si">}</span><span class="s2"> accuracy : </span><span class="si">{</span><span class="n">accuracy</span><span class="si">:</span><span class="s2">.4f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Estimator </span><span class="si">{</span><span class="n">i</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="si">}</span><span class="s2"> memprediksi : </span><span class="si">{</span><span class="nb">int</span><span class="p">(</span><span class="n">bebas</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">()</span>

<span class="c1"># Majority vote untuk prediksi data baru</span>
<span class="n">pred_majority_vote</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">bincount</span><span class="p">(</span><span class="n">pred</span><span class="p">)</span><span class="o">.</span><span class="n">argmax</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Majority vote prediction for new data: </span><span class="si">{</span><span class="n">pred_majority_vote</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="c1"># Menghitung jumlah dari masing-masing kelas dalam pred</span>
<span class="n">class_counts</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">bincount</span><span class="p">(</span><span class="n">pred</span><span class="p">,</span> <span class="n">minlength</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span> <span class="c1">#5 karena kelas ada 4</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Jumlah prediksi kelas 1: </span><span class="si">{</span><span class="n">class_counts</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="nb">len</span><span class="p">(</span><span class="n">class_counts</span><span class="p">)</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="mi">0</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Jumlah prediksi kelas 2: </span><span class="si">{</span><span class="n">class_counts</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="nb">len</span><span class="p">(</span><span class="n">class_counts</span><span class="p">)</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="mi">0</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="c1"># Menghitung rata-rata akurasi dari semua estimators</span>
<span class="n">average_accuracy</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">accuracies</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Average accuracy of all estimators: </span><span class="si">{</span><span class="n">average_accuracy</span><span class="si">:</span><span class="s2">.4f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="c1"># Plot accuracy untuk tiap estimator</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">n_estimators</span> <span class="o">+</span> <span class="mi">1</span><span class="p">),</span> <span class="n">accuracies</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;skyblue&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Estimator&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Accuracy&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Accuracy of Each Gaussian Naive Bayes Estimator&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">n_estimators</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

<span class="c1"># Plot the number of predictions pada setiap klass untuk data baru </span>
<span class="n">class_labels</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Class 1&#39;</span><span class="p">,</span> <span class="s1">&#39;Class 2&#39;</span><span class="p">]</span>
<span class="n">class_values</span> <span class="o">=</span> <span class="p">[</span><span class="n">class_counts</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">class_counts</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span> <span class="k">else</span> <span class="mi">0</span><span class="p">,</span>
                <span class="n">class_counts</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">class_counts</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">2</span> <span class="k">else</span> <span class="mi">0</span><span class="p">]</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">4</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span><span class="n">class_labels</span><span class="p">,</span> <span class="n">class_values</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;lightgreen&#39;</span><span class="p">,</span> <span class="s1">&#39;salmon&#39;</span><span class="p">])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Class&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Number of Predictions&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Number of Predictions for Each Class by Estimators for New Data&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

<span class="c1"># Membuat objek bagging classifier yang menyimpan semua estimators</span>
<span class="n">bagging_classifier</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;estimators&#39;</span><span class="p">:</span> <span class="n">estimators</span><span class="p">,</span>
    <span class="s1">&#39;n_estimators&#39;</span><span class="p">:</span> <span class="n">n_estimators</span>
<span class="p">}</span>

<span class="c1"># Menyimpan model</span>
<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;bagging_classifier.pkl&#39;</span><span class="p">,</span> <span class="s1">&#39;wb&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">model_file</span><span class="p">:</span>
    <span class="n">pickle</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">bagging_classifier</span><span class="p">,</span> <span class="n">model_file</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Model telah disimpan ke dalam file &#39;bagging_classifier.pkl&#39;.&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Data baru yang akan diprediksi
   Age  Sex  Steroid  Antivirals  Fatigue  Malaise  Anorexia  Liver Big  \
0   40    0        2           1        0        0         1          2   

   Liver Firm  Spleen Palpable  Spiders  Ascites  Varices  Bilirubin  \
0           1                2        2        1        0        0.8   

   Alk Phosphate  Sgot  Albumin  Protime  Histology  
0            150    35      3.5       60          0  

Estimator 1 accuracy : 0.7419
Estimator 1 memprediksi : 2

Estimator 2 accuracy : 0.7742
Estimator 2 memprediksi : 2

Estimator 3 accuracy : 0.7742
Estimator 3 memprediksi : 2

Estimator 4 accuracy : 0.7742
Estimator 4 memprediksi : 2

Estimator 5 accuracy : 0.7742
Estimator 5 memprediksi : 2

Estimator 6 accuracy : 0.7742
Estimator 6 memprediksi : 2

Estimator 7 accuracy : 0.6774
Estimator 7 memprediksi : 2

Estimator 8 accuracy : 0.7742
Estimator 8 memprediksi : 2

Estimator 9 accuracy : 0.7419
Estimator 9 memprediksi : 2

Estimator 10 accuracy : 0.7742
Estimator 10 memprediksi : 2

Estimator 11 accuracy : 0.7742
Estimator 11 memprediksi : 2

Estimator 12 accuracy : 0.7742
Estimator 12 memprediksi : 2

Estimator 13 accuracy : 0.7742
Estimator 13 memprediksi : 2

Estimator 14 accuracy : 0.6452
Estimator 14 memprediksi : 1

Estimator 15 accuracy : 0.7742
Estimator 15 memprediksi : 2

Estimator 16 accuracy : 0.7742
Estimator 16 memprediksi : 2

Estimator 17 accuracy : 0.7742
Estimator 17 memprediksi : 2

Estimator 18 accuracy : 0.6129
Estimator 18 memprediksi : 2

Estimator 19 accuracy : 0.7742
Estimator 19 memprediksi : 2

Estimator 20 accuracy : 0.7742
Estimator 20 memprediksi : 2

Majority vote prediction for new data: 2
Jumlah prediksi kelas 1: 1
Jumlah prediksi kelas 2: 19
Average accuracy of all estimators: 0.7516
</pre></div>
</div>
<img alt="_images/5adda83be79cfec9985cf509cfdd712d4be8ddeb106f5f8a62dc7fb03d3141c7.png" src="_images/5adda83be79cfec9985cf509cfdd712d4be8ddeb106f5f8a62dc7fb03d3141c7.png" />
<img alt="_images/cd69c9dd308804e53d7ead1033e6e1166cfec7d407890d5e17caae39210fe1ae.png" src="_images/cd69c9dd308804e53d7ead1033e6e1166cfec7d407890d5e17caae39210fe1ae.png" />
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Model telah disimpan ke dalam file &#39;bagging_classifier.pkl&#39;.
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;bagging_classifier.pkl&#39;</span><span class="p">,</span> <span class="s1">&#39;rb&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">model_file</span><span class="p">:</span>
    <span class="n">bagging_classifier</span> <span class="o">=</span> <span class="n">pickle</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">model_file</span><span class="p">)</span>

<span class="c1"># Akses estimators</span>
<span class="n">estimators</span> <span class="o">=</span> <span class="n">bagging_classifier</span><span class="p">[</span><span class="s1">&#39;estimators&#39;</span><span class="p">]</span>
<span class="n">n_estimators</span> <span class="o">=</span> <span class="n">bagging_classifier</span><span class="p">[</span><span class="s1">&#39;n_estimators&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="evaluasi">
<h1>Evaluasi<a class="headerlink" href="#evaluasi" title="Link to this heading">#</a></h1>
<p>Dari ketiga yang kami buat sebelumnya dapat dikatakan baik atau good fit, hal itu dapat dilihat dari akurasi yang didapat dari masing-masing model, yaitu</p>
<p>single model dengan GNB : mendapatkan akurasi 77%</p>
<p>stacking dengan KNN (model dasar) dan GNB (model meta) : mendapatkan akurasi 58%</p>
<p>bagging dengan GNB : mendapatkan akurasi 80%</p>
<p>dari ketiga model diatas dapat dilihat bahwa model terbaik adalah bagging classifier karena mendapatkan akurasi tertinggi dari ketiga model yang telah dibuat</p>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="deployment">
<h1>Deployment<a class="headerlink" href="#deployment" title="Link to this heading">#</a></h1>
<p>Setelah kami membuat sudah membuat model maka tahap selanjutnya adalah melakukan deployment untuk model kita. Hal ini bertujuan supaya model yang kita gunakan dapat digunakan oleh tenaga medis dalam pengklasifikasikan suatu kanker payudara termasuk jinak atau ganas.</p>
<p>Library yang kami gunakan adalah flask dalam mengintegrasikan model kami menjadi sebuah web</p>
<section id="menyiapkan-model">
<h2>Menyiapkan Model<a class="headerlink" href="#menyiapkan-model" title="Link to this heading">#</a></h2>
<p>pada tahap ini kami akan menyimpan model dari stacking classifier yang sudah dibuat. Tujuan dilakukan penyimpanan model adalah supaya mudah dipanggil ketika akan memasuki tahap deployment.</p>
<p>Untuk library yang kami gunakan dalam menyimpan model yaitu pickle.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># import pickle</span>

<span class="c1"># #menyimpan model</span>
<span class="c1"># with open(&#39;bagging_classifier.pkl&#39;, &#39;wb&#39;) as model_file:</span>
<span class="c1">#     pickle.dump(bagging_classifier, model_file)</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="integrasi-model-dengan-web">
<h2>Integrasi model dengan web<a class="headerlink" href="#integrasi-model-dengan-web" title="Link to this heading">#</a></h2>
<ol class="arabic simple">
<li><p>install library flask, dengan menjalankan perintah “pip install flask”</p></li>
</ol>
<ol class="arabic simple" start="2">
<li><p>membuat file berekstensi .py, misal <a class="reference external" href="http://app.py">app.py</a>. Nantinya aplikasi ini akan menjadi logic atau controller dari web kita.</p></li>
</ol>
<ol class="arabic simple" start="3">
<li><p>didalam <a class="reference external" href="http://app.py">app.py</a> kita panggil model yang telah kita simpan, kemudian kita tambahkan beberapa route dan logic untuk aplikasi web kita.</p></li>
</ol>
<ol class="arabic simple" start="4">
<li><p>setelah itu kita membuat tampilan form untuk user menginputkan data yang akan diprediksi oleh model berserta tampilan untuk hasil prediksi.</p></li>
</ol>
<p>Source code yang telah kami buat dapat diakses melalui link berikut :</p>
<ul class="simple">
<li><p>endyzan/breast_cancer_classification</p></li>
</ul>
</section>
<section id="hasil-web">
<h2>Hasil web<a class="headerlink" href="#hasil-web" title="Link to this heading">#</a></h2>
<p>link menuju website yang sudah kami buat : https://tbah_pendat.000webhostapp.com</p>
<p>Berikut adalah form untuk user menginputkan data yang ingin diprediksi oleh model</p>
<img src="inputweb1.png" width="" align="" /><img src="inputweb2.png" width="" align="" /><img src="inputweb3.png" width="" align="" /><p>saya menginputkan [40, 0, 2, 1, 0, 0, 1, 2, 1, 2, 2, 1, 0, 1, 150, 35, 4, 60, 0]</p>
<p>ketika selesai menginputkan data dan menekan tombol “predict”, maka user akan diarahkan ke halaman hasil prediksi</p>
<img src="hasilinputweb.png" width="" align="" /><a style='text-decoration:none;line-height:16px;display:flex;color:#5B5B62;padding:10px;justify-content:end;' href='https://deepnote.com?utm_source=created-in-deepnote-cell&projectId=1e826a63-8e51-4762-adfb-e998067d2edf' target="_blank">
<img alt='Created in deepnote.com' style='display:inline;max-height:16px;margin:0px;margin-right:7.5px;' src='data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iODBweCIgaGVpZ2h0PSI4MHB4IiB2aWV3Qm94PSIwIDAgODAgODAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDU0LjEgKDc2NDkwKSAtIGh0dHBzOi8vc2tldGNoYXBwLmNvbSAtLT4KICAgIDx0aXRsZT5Hcm91cCAzPC90aXRsZT4KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPgogICAgPGcgaWQ9IkxhbmRpbmciIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxnIGlkPSJBcnRib2FyZCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTEyMzUuMDAwMDAwLCAtNzkuMDAwMDAwKSI+CiAgICAgICAgICAgIDxnIGlkPSJHcm91cC0zIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMjM1LjAwMDAwMCwgNzkuMDAwMDAwKSI+CiAgICAgICAgICAgICAgICA8cG9seWdvbiBpZD0iUGF0aC0yMCIgZmlsbD0iIzAyNjVCNCIgcG9pbnRzPSIyLjM3NjIzNzYyIDgwIDM4LjA0NzY2NjcgODAgNTcuODIxNzgyMiA3My44MDU3NTkyIDU3LjgyMTc4MjIgMzIuNzU5MjczOSAzOS4xNDAyMjc4IDMxLjY4MzE2ODMiPjwvcG9seWdvbj4KICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0zNS4wMDc3MTgsODAgQzQyLjkwNjIwMDcsNzYuNDU0OTM1OCA0Ny41NjQ5MTY3LDcxLjU0MjI2NzEgNDguOTgzODY2LDY1LjI2MTk5MzkgQzUxLjExMjI4OTksNTUuODQxNTg0MiA0MS42NzcxNzk1LDQ5LjIxMjIyODQgMjUuNjIzOTg0Niw0OS4yMTIyMjg0IEMyNS40ODQ5Mjg5LDQ5LjEyNjg0NDggMjkuODI2MTI5Niw0My4yODM4MjQ4IDM4LjY0NzU4NjksMzEuNjgzMTY4MyBMNzIuODcxMjg3MSwzMi41NTQ0MjUgTDY1LjI4MDk3Myw2Ny42NzYzNDIxIEw1MS4xMTIyODk5LDc3LjM3NjE0NCBMMzUuMDA3NzE4LDgwIFoiIGlkPSJQYXRoLTIyIiBmaWxsPSIjMDAyODY4Ij48L3BhdGg+CiAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMCwzNy43MzA0NDA1IEwyNy4xMTQ1MzcsMC4yNTcxMTE0MzYgQzYyLjM3MTUxMjMsLTEuOTkwNzE3MDEgODAsMTAuNTAwMzkyNyA4MCwzNy43MzA0NDA1IEM4MCw2NC45NjA0ODgyIDY0Ljc3NjUwMzgsNzkuMDUwMzQxNCAzNC4zMjk1MTEzLDgwIEM0Ny4wNTUzNDg5LDc3LjU2NzA4MDggNTMuNDE4MjY3Nyw3MC4zMTM2MTAzIDUzLjQxODI2NzcsNTguMjM5NTg4NSBDNTMuNDE4MjY3Nyw0MC4xMjg1NTU3IDM2LjMwMzk1NDQsMzcuNzMwNDQwNSAyNS4yMjc0MTcsMzcuNzMwNDQwNSBDMTcuODQzMDU4NiwzNy43MzA0NDA1IDkuNDMzOTE5NjYsMzcuNzMwNDQwNSAwLDM3LjczMDQ0MDUgWiIgaWQ9IlBhdGgtMTkiIGZpbGw9IiMzNzkzRUYiPjwvcGF0aD4KICAgICAgICAgICAgPC9nPgogICAgICAgIDwvZz4KICAgIDwvZz4KPC9zdmc+' > </img>
Created in <span style='font-weight:600;margin-left:4px;'>Deepnote</span></a></section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="markdown-notebooks.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Notebooks with MyST Markdown</p>
      </div>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#">Pendahuluan</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#data-understanding">Data Understanding</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#sumber-data">Sumber Data</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#integrasi-data">Integrasi Data</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#eskplorasi-data">Eskplorasi Data</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#struktur-dataset">Struktur Dataset</a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#identifikasi-kualitas-data">Identifikasi Kualitas Data</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pendeteksian-missing-values">Pendeteksian Missing Values</a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#prepocessing-data">Prepocessing Data</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#transformasi-data">Transformasi Data</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#imputasi">Imputasi</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#imputasi-missing-values-mean">Imputasi Missing Values Mean</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#imputasi-missing-values-knn">Imputasi Missing Values KNN</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#pendeteksian-outlier">Pendeteksian Outlier</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#modelling-gaussian-naive-bayes">Modelling Gaussian Naive Bayes</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#peningkatan-model">Peningkatan Model</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#stacking-classifier-meta-classifier">Stacking Classifier (Meta Classifier)</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#cara-kerja-stacking">Cara kerja stacking</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#bagging-bootstrap-aggregating">Bagging (Bootstrap Aggregating)</a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#evaluasi">Evaluasi</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#deployment">Deployment</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#menyiapkan-model">Menyiapkan Model</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#integrasi-model-dengan-web">Integrasi model dengan web</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#hasil-web">Hasil web</a></li>
</ul>
</li>
</ul>

  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By ahmad andi
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2023.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="_static/scripts/bootstrap.js?digest=8d27b9dea8ad943066ae"></script>
<script src="_static/scripts/pydata-sphinx-theme.js?digest=8d27b9dea8ad943066ae"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>